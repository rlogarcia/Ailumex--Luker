<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="benglish_academy.TimePickerWidget" owl="1">
        <div class="o_field_time_picker" t-att-class="{'o_readonly': props.readonly}">
            <div class="time_picker_input_group">
                <input
                    type="text"
                    class="o_input time_picker_input"
                    t-ref="timeInput"
                    t-att-value="formattedTime"
                    t-att-readonly="props.readonly"
                    t-on-change="onInputChange"
                    t-on-blur="onInputBlur"
                    placeholder="HH:MM"
                    maxlength="5"
                />
                <button
                    t-if="!props.readonly"
                    type="button"
                    class="btn btn-secondary time_picker_toggle"
                    t-on-click="togglePicker"
                    title="Abrir selector de hora"
                >
                    <i class="fa fa-clock-o"/>
                </button>
            </div>

            <div t-if="state.showPicker and !props.readonly" class="time_picker_dropdown">
                <div class="time_picker_header">
                    <button type="button" class="btn btn-sm btn-link" t-on-click="closePicker">
                        <i class="fa fa-times"/>
                    </button>
                </div>

                <div class="time_picker_body">
                    <div class="analog_clock" t-on-click="onClockClick">
                        <svg viewBox="0 0 200 200" class="clock_svg">
                            <circle cx="100" cy="100" r="90" class="clock_face"/>

                            <g class="hour_marks">
                                <line x1="100" y1="20" x2="100" y2="30" class="hour_mark"/>
                                <line x1="155.88" y1="44.12" x2="148.49" y2="51.51" class="hour_mark" transform="rotate(30 100 100)"/>
                                <line x1="180" y1="100" x2="170" y2="100" class="hour_mark"/>
                                <line x1="155.88" y1="155.88" x2="148.49" y2="148.49" class="hour_mark" transform="rotate(120 100 100)"/>
                                <line x1="100" y1="180" x2="100" y2="170" class="hour_mark"/>
                                <line x1="44.12" y1="155.88" x2="51.51" y2="148.49" class="hour_mark" transform="rotate(210 100 100)"/>
                                <line x1="20" y1="100" x2="30" y2="100" class="hour_mark"/>
                                <line x1="44.12" y1="44.12" x2="51.51" y2="51.51" class="hour_mark" transform="rotate(300 100 100)"/>
                            </g>

                            <text x="100" y="35" class="hour_number">12</text>
                            <text x="160" y="108" class="hour_number">3</text>
                            <text x="100" y="175" class="hour_number">6</text>
                            <text x="40" y="108" class="hour_number">9</text>

                            <line
                                x1="100"
                                y1="100"
                                x2="100"
                                y2="55"
                                class="hour_hand"
                                t-att-style="'transform: rotate(' + hourAngle + 'deg); transform-origin: 100px 100px;'"
                            />

                            <line
                                x1="100"
                                y1="100"
                                x2="100"
                                y2="35"
                                class="minute_hand"
                                t-att-style="'transform: rotate(' + minuteAngle + 'deg); transform-origin: 100px 100px;'"
                            />

                            <circle cx="100" cy="100" r="5" class="clock_center"/>
                        </svg>
                    </div>

                    <div class="digital_controls">
                        <div class="time_display">
                            <t t-esc="formattedTime"/>
                        </div>
                        <div class="time_buttons">
                            <div class="time_button_group">
                                <button type="button" class="btn btn-sm btn-secondary" t-on-click="decrementHour">
                                    <i class="fa fa-minus"/>
                                </button>
                                <span class="time_label">Hora</span>
                                <button type="button" class="btn btn-sm btn-secondary" t-on-click="incrementHour">
                                    <i class="fa fa-plus"/>
                                </button>
                            </div>
                            <div class="time_button_group">
                                <button type="button" class="btn btn-sm btn-secondary" t-on-click="decrementMinute">
                                    <i class="fa fa-minus"/>
                                </button>
                                <span class="time_label">Minuto</span>
                                <button type="button" class="btn btn-sm btn-secondary" t-on-click="incrementMinute">
                                    <i class="fa fa-plus"/>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
</templates>
