<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="portal_student_access_blocked" name="Portal Student Access Blocked">
        <t t-set="page_name" t-value="'access_blocked'"/>
        <t t-call="portal_student.portal_student_base">
            <section class="ps-card ps-card-wide ps-access-card">
                <h2>Acceso restringido</h2>
                <p>
                    Tu cuenta no tiene acceso al portal en este momento.
                </p>
                <t t-if="portal_access_message">
                    <div class="ps-alert ps-alert-warning">
                        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
                        <p t-esc="portal_access_message"/>
                    </div>
                </t>
                <p class="ps-muted">
                    Si necesitas ayuda, contacta a soporte acad&#x00E9;mico.
                </p>
            </section>
        </t>
    </template>

    <template id="portal_student_access_restricted" name="Portal Student Access Restricted">
        <t t-set="page_name" t-value="'access_restricted'"/>
        <t t-call="portal_student.portal_student_base">
            <section class="ps-card ps-card-wide ps-access-card">
                <h2>Acceso limitado</h2>
                <p>
                    Tu estado acad&#x00E9;mico permite un acceso parcial al portal.
                </p>
                <t t-if="portal_access_message">
                    <div class="ps-alert ps-alert-info">
                        <i class="fa fa-info-circle" aria-hidden="true"></i>
                        <p t-esc="portal_access_message"/>
                    </div>
                </t>
                <div class="ps-access-actions">
                    <a class="ps-button ps-button-ghost" href="/my/profile">
                        <i class="fa fa-id-card-o" aria-hidden="true"></i> Ver perfil
                    </a>
                    <a t-if="portal_access.get('capabilities', {}).get('can_view_history')" class="ps-button" href="/my/student/status">
                        <i class="fa fa-line-chart" aria-hidden="true"></i> Ver estado
                    </a>
                </div>
            </section>
        </t>
    </template>

    <template id="portal_student_profile" name="Portal Student Profile">
        <t t-set="page_name" t-value="'profile'"/>
        <t t-call="portal_student.portal_student_base">
            <section class="ps-card ps-card-wide ps-profile-card">
                <div class="ps-card-head">
                    <div>
                        <p class="ps-eyebrow">Perfil</p>
                        <h2>Informaci&#x00F3;n del estudiante</h2>
                    </div>
                </div>
                <div class="ps-profile-grid">
                    <div class="ps-profile-block">
                        <h3>Datos personales</h3>
                        <p><strong>Nombre:</strong> <t t-esc="profile.get('name')"/></p>
                        <p><strong>Documento:</strong> <t t-esc="profile.get('document')"/></p>
                        <p><strong>Email:</strong> <t t-esc="profile.get('email')"/></p>
                        <p><strong>Tel&#x00E9;fono:</strong> <t t-esc="profile.get('phone')"/></p>
                        <p><strong>Celular:</strong> <t t-esc="profile.get('mobile')"/></p>
                        <p><strong>Direcci&#x00F3;n:</strong> <t t-esc="profile.get('address')"/></p>
                        <p><strong>Ciudad:</strong> <t t-esc="profile.get('city')"/></p>
                        <p><strong>Pa&#x00ED;s:</strong> <t t-esc="profile.get('country')"/></p>
                    </div>
                    <div class="ps-profile-block">
                        <h3>Datos acad&#x00E9;micos</h3>
                        <p><strong>Programa:</strong> <t t-esc="profile.get('program')"/></p>
                        <p><strong>Plan:</strong> <t t-esc="profile.get('plan')"/></p>
                        <p><strong>Fase actual:</strong> <t t-esc="profile.get('current_phase')"/></p>
                        <p><strong>Nivel actual:</strong> <t t-esc="profile.get('current_level')"/></p>
                        <p><strong>Estado:</strong> <t t-esc="profile.get('state')"/></p>
                        <p><strong>Estado de perfil:</strong> <t t-esc="profile.get('profile_state')"/></p>
                        <t t-if="profile.get('profile_state_message')">
                            <div class="ps-alert ps-alert-info">
                                <i class="fa fa-info-circle" aria-hidden="true"></i>
                                <p t-esc="profile.get('profile_state_message')"/>
                            </div>
                        </t>
                    </div>
                </div>
            </section>
        </t>
    </template>

    <template id="portal_student_welcome" name="Portal Student Welcome">
        <t t-call="portal.portal_layout">
            <div class="ps-shell ps-welcome-screen">
                <section class="ps-card ps-card-wide ps-welcome-card">
                    <h2>Bienvenido al portal</h2>
                    <p>
                        Por seguridad, debes cambiar tu contrase&#x00F1;a en el primer ingreso.
                    </p>
                    <t t-if="error">
                        <div class="ps-alert ps-alert-error">
                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                            <p t-esc="error"/>
                        </div>
                    </t>
                    <form class="ps-form" method="post" action="/my/welcome">
                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                        <div class="ps-field">
                            <label for="password">Nueva contrase&#x00F1;a</label>
                            <input type="password" name="password" id="password" required="required" autocomplete="new-password"/>
                        </div>
                        <div class="ps-field">
                            <label for="confirm_password">Confirmar contrase&#x00F1;a</label>
                            <input type="password" name="confirm_password" id="confirm_password" required="required" autocomplete="new-password"/>
                        </div>
                        <button type="submit" class="ps-button">Actualizar contrase&#x00F1;a</button>
                    </form>
                </section>
            </div>
        </t>
    </template>

    <template id="portal_student_change_password" name="Portal Student Change Password">
        <t t-set="page_name" t-value="'change_password'"/>
        <t t-call="portal_student.portal_student_base">
            <section class="ps-card ps-card-wide ps-password-card">
                <div class="ps-card-head">
                    <div>
                        <p class="ps-eyebrow">Seguridad</p>
                        <h2>Cambiar contrase&#x00F1;a</h2>
                    </div>
                </div>
                <t t-if="message">
                    <div class="ps-alert ps-alert-success">
                        <i class="fa fa-check-circle" aria-hidden="true"></i>
                        <p t-esc="message"/>
                    </div>
                </t>
                <t t-if="error">
                    <div class="ps-alert ps-alert-error">
                        <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                        <p t-esc="error"/>
                    </div>
                </t>
                <form class="ps-form" method="post" action="/my/change-password">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <div class="ps-field">
                        <label for="current_password">Contrase&#x00F1;a actual</label>
                        <input type="password" name="current_password" id="current_password" required="required" autocomplete="current-password"/>
                    </div>
                    <div class="ps-field">
                        <label for="new_password">Nueva contrase&#x00F1;a</label>
                        <input type="password" name="password" id="new_password" required="required" autocomplete="new-password"/>
                    </div>
                    <div class="ps-field">
                        <label for="confirm_password_change">Confirmar contrase&#x00F1;a</label>
                        <input type="password" name="confirm_password" id="confirm_password_change" required="required" autocomplete="new-password"/>
                    </div>
                    <button type="submit" class="ps-button">Actualizar contrase&#x00F1;a</button>
                </form>
            </section>
        </t>
    </template>
</odoo>
