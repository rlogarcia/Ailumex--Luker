<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- 
            HU-WA-10: Cron para reintentar mensajes de WhatsApp fallidos
            
            Se ejecuta cada 5 minutos para procesar la cola de reintentos.
            Implementa backoff exponencial: 1min, 5min, 15min
        -->
        <record id="cron_whatsapp_retry_failed_messages" model="ir.cron">
            <field name="name">WhatsApp: Reintentar mensajes fallidos</field>
            <field name="model_id" ref="model_whatsapp_message_queue" />
            <field name="state">code</field>
            <field name="code">model._cron_retry_failed_messages()</field>
            <field name="interval_number">5</field>
            <field name="interval_type">minutes</field>
            <field name="active" eval="True" />
        </record>

    </data>
</odoo>