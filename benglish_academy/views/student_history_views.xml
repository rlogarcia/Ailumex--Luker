<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- Historial de Estado de Perfil -->
    <record id="view_student_profile_state_history_list" model="ir.ui.view">
        <field name="name">benglish.student.state.history.list</field>
        <field name="model">benglish.student.state.history</field>
        <field name="arch" type="xml">
            <list string="Historial de Estado de Perfil" create="0" edit="0" delete="0">
                <field name="change_date"/>
                <field name="student_id"/>
                <field name="estado_anterior_id"/>
                <field name="estado_nuevo_id"/>
                <field name="origen"/>
                <field name="user_id"/>
                <field name="motivo"/>
            </list>
        </field>
    </record>

    <record id="view_student_profile_state_history_form" model="ir.ui.view">
        <field name="name">benglish.student.state.history.form</field>
        <field name="model">benglish.student.state.history</field>
        <field name="arch" type="xml">
            <form string="Historial de Estado de Perfil">
                <sheet>
                    <group>
                        <field name="student_id" readonly="1"/>
                        <field name="change_date" readonly="1"/>
                    </group>
                    <group>
                        <field name="estado_anterior_id" readonly="1"/>
                        <field name="estado_nuevo_id" readonly="1"/>
                    </group>
                    <group>
                        <field name="origen" readonly="1"/>
                        <field name="user_id" readonly="1"/>
                    </group>
                    <group string="Motivo">
                        <field name="motivo" readonly="1" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Historial de Estado del Estudiante -->
    <record id="view_student_lifecycle_history_list" model="ir.ui.view">
        <field name="name">benglish.student.lifecycle.history.list</field>
        <field name="model">benglish.student.lifecycle.history</field>
        <field name="arch" type="xml">
            <list string="Historial de Estado del Estudiante" create="0" edit="0" delete="0">
                <field name="change_date"/>
                <field name="student_id"/>
                <field name="estado_anterior" widget="badge"/>
                <field name="estado_nuevo" widget="badge"/>
                <field name="origen"/>
                <field name="user_id"/>
                <field name="motivo"/>
            </list>
        </field>
    </record>

    <record id="view_student_lifecycle_history_form" model="ir.ui.view">
        <field name="name">benglish.student.lifecycle.history.form</field>
        <field name="model">benglish.student.lifecycle.history</field>
        <field name="arch" type="xml">
            <form string="Historial de Estado del Estudiante">
                <sheet>
                    <group>
                        <field name="student_id" readonly="1"/>
                        <field name="change_date" readonly="1"/>
                    </group>
                    <group>
                        <field name="estado_anterior" readonly="1"/>
                        <field name="estado_nuevo" readonly="1"/>
                    </group>
                    <group>
                        <field name="origen" readonly="1"/>
                        <field name="user_id" readonly="1"/>
                    </group>
                    <group string="Motivo">
                        <field name="motivo" readonly="1" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Historial de Edición -->
    <record id="view_student_edit_history_list" model="ir.ui.view">
        <field name="name">benglish.student.edit.history.list</field>
        <field name="model">benglish.student.edit.history</field>
        <field name="arch" type="xml">
            <list string="Historial de Edición" create="0" edit="0" delete="0">
                <field name="change_date"/>
                <field name="student_id"/>
                <field name="user_id"/>
                <field name="origin"/>
                <field name="change_count"/>
                <field name="note"/>
            </list>
        </field>
    </record>

    <record id="view_student_edit_history_form" model="ir.ui.view">
        <field name="name">benglish.student.edit.history.form</field>
        <field name="model">benglish.student.edit.history</field>
        <field name="arch" type="xml">
            <form string="Historial de Edición">
                <sheet>
                    <group>
                        <field name="student_id" readonly="1"/>
                        <field name="change_date" readonly="1"/>
                    </group>
                    <group>
                        <field name="user_id" readonly="1"/>
                        <field name="origin" readonly="1"/>
                    </group>
                    <group string="Notas">
                        <field name="note" readonly="1" nolabel="1"/>
                    </group>
                    <group string="Detalle de Cambios">
                        <field name="line_ids" nolabel="1">
                            <list string="Cambios" create="0" edit="0" delete="0">
                                <field name="field_label"/>
                                <field name="old_value"/>
                                <field name="new_value"/>
                            </list>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

</odoo>
