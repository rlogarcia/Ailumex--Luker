:root {
    --ps-primary: #1e3a8a;
    --ps-primary-strong: #0f1f52;
    --ps-primary-soft: #e7ecff;
    --ps-primary-soft-2: #f1f4ff;
    --ps-deep: #0d1b4c;
    --ps-text: #0f172a;
    --ps-muted: #5b6474;
    --ps-border: #dfe5f5;
    --ps-surface: #ffffff;
    --ps-radius: 14px;
    --ps-shadow: 0 10px 30px rgba(13, 27, 76, 0.12);
}

body {
    background: radial-gradient(circle at 18% 18%, rgba(30, 58, 138, 0.08), transparent 45%), #f7f8fc;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    overflow-x: hidden;
}

*, *::before, *::after {
    box-sizing: border-box;
}

/* Oculta la barra superior genérica del sitio en páginas del portal del estudiante */
header#top {
    display: none !important;
}

.ps-navbar {
    background: linear-gradient(120deg, #0f1f52 0%, #1e3a8a 65%, #274aaf 100%);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 16px;
    padding: 14px 48px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 10px 28px rgba(11, 21, 56, 0.25);
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    position: relative;
    margin-bottom: 30px;
}

.ps-brand {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    text-decoration: none;
    background: transparent;
    border-radius: 18px;
    padding: 0;
    box-shadow: none;
}

.ps-logo {
    height: 60px;
    width: auto;
    object-fit: contain;
    background: transparent;
    border-radius: 0px;
    padding: 0px;
    filter: drop-shadow(0 10px 22px rgba(0,0,0,0.25));
    transform: scale(1);
    transform-origin: center;
}

.ps-nav {
    display: flex;
    gap: 12px;
    align-items: center;
    position: relative;
    margin-left: 12px;
    flex: 1;
}

.ps-nav-cta {
    display: flex;
    align-items: center;
    margin-left: 16px;
}

.ps-nav-item {
    position: relative;
}

.ps-nav-trigger {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    color: rgba(255, 255, 255, 0.88);
    font-weight: 700;
    padding: 8px 12px;
    border-radius: 12px;
    cursor: pointer;
    transition: background 0.2s ease, color 0.2s ease, transform 0.1s ease;
}

.ps-caret {
    font-size: 11px;
    opacity: 0.8;
}

.ps-nav-item.active .ps-nav-trigger {
    background: rgba(255, 255, 255, 0.2);
    color: #fff;
}

.ps-dropdown {
    display: none;
    position: absolute;
    top: 44px;
    left: 0;
    min-width: 200px;
    background: #0f1f52;
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 14px;
    box-shadow: 0 12px 26px rgba(0, 0, 0, 0.25);
    overflow: hidden;
    z-index: 10;
}

.ps-dropdown a {
    display: block;
    padding: 10px 14px;
    color: #fff;
    text-decoration: none;
    font-weight: 600;
    transition: background 0.15s ease;
}

.ps-dropdown a:hover {
    background: rgba(255, 255, 255, 0.12);
}

.ps-nav-item.open .ps-dropdown,
.ps-nav-item:focus-within .ps-dropdown {
    display: block;
}

.ps-user {
    color: #fff;
    font-weight: 700;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    margin-left: auto;
}

.ps-user-menu {
    position: relative;
}

.ps-user-btn {
    background: rgba(255, 255, 255, 0.16);
    border: 1px solid rgba(255, 255, 255, 0.24);
    color: #fff;
    border-radius: 12px;
    padding: 6px 10px;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
}

.ps-user-btn:hover {
    background: rgba(255, 255, 255, 0.24);
}

.ps-user-dropdown {
    display: none;
    position: absolute;
    right: 0;
    top: 44px;
    min-width: 200px;
    background: #0f1f52;
    border-radius: 12px;
    box-shadow: 0 14px 28px rgba(13, 27, 76, 0.18);
    border: 1px solid rgba(255, 255, 255, 0.12);
    overflow: hidden;
    z-index: 2000;
}

.ps-user-dropdown a {
    display: block;
    padding: 10px 12px;
    color: #fff;
    text-decoration: none;
    font-weight: 700;
}

.ps-user-dropdown a:hover {
    background: rgba(255, 255, 255, 0.12);
}

.ps-user-menu.open .ps-user-dropdown,
.ps-user-menu:focus-within .ps-user-dropdown {
    display: block;
}

.ps-notif {
    position: relative;
}

.ps-notif-btn {
    background: rgba(255, 255, 255, 0.16);
    border: 1px solid rgba(255, 255, 255, 0.24);
    color: #fff;
    width: 36px;
    height: 36px;
    border-radius: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.1s ease;
    position: relative;
}

.ps-notif-btn:hover {
    background: rgba(255, 255, 255, 0.24);
    transform: scale(1.05);
}

.ps-notif-btn:active {
    transform: scale(0.98);
}

/* Badge contador de notificaciones - SUPER VISIBLE */
.ps-notif-badge {
    position: absolute;
    top: -6px;
    right: -6px;
    background: linear-gradient(135deg, #ff0000 0%, #dc2626 100%);
    color: #fff;
    font-size: 11px;
    font-weight: 900;
    min-width: 20px;
    height: 20px;
    border-radius: 10px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0 6px;
    box-shadow: 0 3px 10px rgba(220, 38, 38, 0.6), 
                0 0 0 3px var(--ps-primary),
                0 0 0 4px rgba(255, 255, 255, 0.3);
    border: 2px solid #fff;
    transition: opacity 0.3s ease, transform 0.3s ease;
    animation: ps-badge-pulse 2s ease-in-out infinite;
    z-index: 10;
    line-height: 1;
}

/* Animación de pulso para el badge */
@keyframes ps-badge-pulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 3px 10px rgba(220, 38, 38, 0.6), 
                    0 0 0 3px var(--ps-primary),
                    0 0 0 4px rgba(255, 255, 255, 0.3);
    }
    50% {
        transform: scale(1.1);
        box-shadow: 0 4px 14px rgba(220, 38, 38, 0.8), 
                    0 0 0 3px var(--ps-primary),
                    0 0 0 5px rgba(255, 255, 255, 0.5);
    }
}

.ps-notif-badge-hidden {
    opacity: 0 !important;
    transform: scale(0) !important;
    pointer-events: none !important;
}

.ps-notif-dropdown {
    display: none;
    position: absolute;
    right: 0;
    top: 44px;
    width: 420px;
    max-width: calc(100vw - 24px);
    background: #fff;
    border-radius: 14px;
    box-shadow: 0 20px 40px rgba(13, 27, 76, 0.25);
    border: 1px solid rgba(30, 58, 138, 0.14);
    overflow: hidden;
    z-index: 2000;
    max-height: 500px;
    overflow-y: auto;
}

.ps-notif.open .ps-notif-dropdown,
.ps-notif:focus-within .ps-notif-dropdown {
    display: block;
}

/* Scrollbar personalizado para dropdown */
.ps-notif-dropdown::-webkit-scrollbar {
    width: 8px;
}

.ps-notif-dropdown::-webkit-scrollbar-track {
    background: #f1f5f9;
}

.ps-notif-dropdown::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
}

.ps-notif-dropdown::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

/* Confirm modal (cambiar sede) */
.ps-confirm-modal {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 24px;
    background: rgba(15, 23, 42, 0.35);
    z-index: 3000;
}

.ps-confirm-modal.is-open {
    display: flex;
}

.ps-confirm-card {
    width: min(460px, 92vw);
    background: var(--ps-surface);
    border: 1px solid var(--ps-border);
    border-radius: 16px;
    box-shadow: var(--ps-shadow);
    padding: 20px 22px;
}

.ps-confirm-head {
    display: flex;
    gap: 14px;
    align-items: flex-start;
}

.ps-confirm-icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
    background: var(--ps-primary-soft);
    color: var(--ps-primary);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    flex-shrink: 0;
}

.ps-confirm-icon-warning {
    background: #fef3c7;
    color: #b45309;
}

.ps-confirm-title {
    margin: 0 0 6px;
    font-size: 17px;
    font-weight: 700;
    color: var(--ps-text);
}

.ps-confirm-text {
    margin: 0;
    color: var(--ps-muted);
    font-size: 13.5px;
    line-height: 1.5;
}

.ps-confirm-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 18px;
}

.ps-confirm-subtitle {
    margin-top: 12px;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--ps-muted);
    font-weight: 700;
}

.ps-confirm-details {
    margin-top: 14px;
    padding-top: 12px;
    border-top: 1px dashed var(--ps-border);
    display: grid;
    gap: 8px;
}

.ps-confirm-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    font-size: 13px;
    color: var(--ps-muted);
}

.ps-confirm-row.is-hidden {
    display: none;
}

.ps-confirm-label {
    font-weight: 600;
    color: var(--ps-muted);
    flex-shrink: 0;
}

.ps-confirm-value {
    font-weight: 700;
    color: var(--ps-text);
    text-align: right;
    flex: 1;
}

.ps-confirm-list {
    font-weight: 600;
    white-space: normal;
}

.ps-notif-head {
    padding: 14px 16px;
    font-weight: 800;
    background: linear-gradient(135deg, #1e3a8a, #1f56b8);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 15px;
}

.ps-notif-head-badge {
    background: rgba(255, 255, 255, 0.25);
    color: #fff;
    font-size: 12px;
    font-weight: 900;
    min-width: 24px;
    height: 24px;
    border-radius: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0 8px;
}

/* Botón "Marcar como leídas" */
.ps-notif-actions {
    padding: 12px 16px;
    border-bottom: 2px solid rgba(30, 58, 138, 0.12);
    background: linear-gradient(180deg, #f8fafc 0%, #ffffff 100%);
}

.ps-btn-mark-read {
    width: 100%;
    padding: 10px 16px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: #fff;
    border: none;
    border-radius: 10px;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

.ps-btn-mark-read:hover {
    background: linear-gradient(135deg, #059669 0%, #047857 100%);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
    transform: translateY(-1px);
}

.ps-btn-mark-read:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3);
}

.ps-btn-mark-read i {
    font-size: 16px;
}

/* === Sistema de Notificaciones Personalizadas === */
.ps-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    min-width: 320px;
    max-width: 450px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 4px 12px rgba(0, 0, 0, 0.08);
    padding: 18px 20px;
    z-index: 10000;
    transform: translateX(500px);
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    border-left: 4px solid;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}

.ps-notification-show {
    transform: translateX(0);
    opacity: 1;
}

.ps-notification-success {
    border-left-color: #10b981;
    background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%);
}

.ps-notification-success .ps-notification-content i {
    color: #10b981;
}

.ps-notification-error {
    border-left-color: #ef4444;
    background: linear-gradient(135deg, #ffffff 0%, #fef2f2 100%);
}

.ps-notification-error .ps-notification-content i {
    color: #ef4444;
}

.ps-notification-info {
    border-left-color: #3b82f6;
    background: linear-gradient(135deg, #ffffff 0%, #eff6ff 100%);
}

.ps-notification-info .ps-notification-content i {
    color: #3b82f6;
}

.ps-notification-content {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 1;
}

.ps-notification-content i {
    font-size: 24px;
    flex-shrink: 0;
}

.ps-notification-message {
    color: #1f2937;
    font-size: 15px;
    font-weight: 500;
    line-height: 1.5;
}

.ps-notification-close {
    background: transparent;
    border: none;
    color: #9ca3af;
    cursor: pointer;
    padding: 4px;
    border-radius: 6px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    flex-shrink: 0;
}

.ps-notification-close:hover {
    background: rgba(0, 0, 0, 0.05);
    color: #4b5563;
}

.ps-notification-close i {
    font-size: 14px;
}

/* Animación de múltiples notificaciones */
.ps-notification:nth-child(n+2) {
    margin-top: 80px;
}

/* Responsive */
@media (max-width: 768px) {
    .ps-notification {
        left: 20px;
        right: 20px;
        min-width: auto;
        max-width: none;
    }
}

.ps-notif-item {
    padding: 14px 16px;
    border-bottom: 1px solid rgba(30, 58, 138, 0.08);
    cursor: pointer;
    transition: background 0.15s ease;
    display: flex;
    gap: 12px;
    align-items: flex-start;
}

.ps-notif-item:last-child {
    border-bottom: none;
}

.ps-notif-item:hover {
    background: rgba(30, 58, 138, 0.02);
}

.ps-notif-unseen {
    background: linear-gradient(90deg, rgba(239, 68, 68, 0.08) 0%, rgba(239, 68, 68, 0.02) 100%);
    border-left: 4px solid #ef4444;
    padding-left: 12px;
}

.ps-notif-unseen:hover {
    background: linear-gradient(90deg, rgba(239, 68, 68, 0.12) 0%, rgba(239, 68, 68, 0.04) 100%);
}

.ps-notif-icon {
    width: 40px;
    height: 40px;
    min-width: 40px;
    border-radius: 10px;
    background: linear-gradient(135deg, var(--ps-primary-soft) 0%, var(--ps-primary-soft-2) 100%);
    color: var(--ps-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
}

.ps-notif-unseen .ps-notif-icon {
    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
    color: #dc2626;
}

.ps-notif-content {
    flex: 1;
    min-width: 0;
}

.ps-notif-title {
    font-weight: 800;
    color: var(--ps-deep);
    margin: 0 0 6px;
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.ps-notif-unread-dot {
    color: #ef4444;
    font-size: 8px;
    animation: ps-dot-blink 1.5s ease-in-out infinite;
}

@keyframes ps-dot-blink {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.4;
    }
}

.ps-session-meta {
    margin: 4px 0;
    color: var(--ps-muted);
    font-size: 13px;
    line-height: 1.4;
}

.ps-session-meta strong {
    color: var(--ps-text);
    font-weight: 700;
}

.ps-session-time {
    display: flex;
    align-items: center;
    gap: 6px;
}

.ps-notif-time {
    margin: 6px 0 0;
    color: var(--ps-muted);
    font-size: 12px;
    display: flex;
    align-items: center;
    gap: 5px;
    font-style: italic;
}

.ps-notif-empty {
    padding: 40px 20px;
    text-align: center;
    color: var(--ps-muted);
}

.ps-notif-empty i {
    font-size: 48px;
    margin-bottom: 12px;
    display: block;
    opacity: 0.3;
}

.ps-notif-empty p {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
}

.ps-shell {
    max-width: 1240px;
    margin: 24px auto 56px;
    padding: 0 24px;
    color: var(--ps-text);
    width: 100%;
    box-sizing: border-box;
}

.ps-app-grid {
    display: flex;
    gap: 18px;
    align-items: flex-start;
}

.ps-side-card {
    width: 260px;
    min-width: 240px;
    background: #ffffff;
    border: 1px solid var(--ps-border);
    border-radius: var(--ps-radius);
    padding: 16px;
    box-shadow: var(--ps-shadow);
    position: sticky;
    top: 18px;
}

.ps-side-head h3 {
    margin: 4px 0;
    font-size: 18px;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-side-nav {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin: 12px 0 16px;
}

.ps-side-link {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 12px;
    text-decoration: none;
    color: var(--ps-text);
    font-weight: 700;
    border: 1px solid transparent;
    transition: all 0.15s ease;
}

.ps-side-link i {
    color: var(--ps-primary);
    width: 16px;
    text-align: center;
}

.ps-side-link:hover {
    background: var(--ps-primary-soft-2);
    border-color: var(--ps-border);
}

.ps-side-link.active {
    background: var(--ps-primary);
    color: #fff;
    box-shadow: 0 12px 28px rgba(15, 23, 42, 0.22);
}

.ps-side-link.active i {
    color: #fff;
}

.ps-side-meta {
    border-top: 1px solid var(--ps-border);
    margin-top: 12px;
    padding-top: 12px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.ps-side-chip {
    background: var(--ps-primary-soft-2);
    border: 1px solid rgba(30, 58, 138, 0.14);
    border-radius: 12px;
    padding: 10px 12px;
    font-weight: 700;
    color: var(--ps-deep);
}

.ps-app-main {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 18px;
    width: 100%;
    box-sizing: border-box;
}

.ps-app-main-full {
    margin: 0 auto;
    max-width: 1200px;
    width: 100%;
}

.ps-dashboard {
    display: flex;
    flex-direction: column;
    gap: 18px;
}

.ps-dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 16px;
    margin-top: 12px;
}

.ps-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    border-radius: 999px;
    font-weight: 800;
    font-size: 12px;
    letter-spacing: 0.01em;
}

.ps-badge-soft {
    border: 1px solid rgba(30, 58, 138, 0.12);
}

.ps-badge-emerald {
    background: #ecfdf3;
    color: #046c4e;
}

.ps-badge-blue {
    background: var(--ps-primary-soft);
    color: var(--ps-primary-strong);
}

.ps-badge-blue-soft {
    background: rgba(30, 58, 138, 0.08);
    color: var(--ps-deep);
}

.ps-actions-inline {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    align-items: center;
    margin-top: 10px;
}

.ps-kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 10px;
    margin-top: 6px;
}

.ps-kpi {
    border: 1px solid var(--ps-border);
    border-radius: 12px;
    padding: 10px 12px;
    background: #fff;
    box-shadow: 0 6px 18px rgba(13, 27, 76, 0.08);
}

.ps-kpi .ps-metric-value {
    font-size: 20px;
    margin: 2px 0 0;
    color: var(--ps-deep);
}

.ps-resumen {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.ps-resumen-head h3 {
    margin: 0;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-resumen-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
}

.ps-resumen-rows {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 14px;
}

.ps-summary {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-summary-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(320px, 1fr));
    gap: 22px 18px;
}

.ps-summary-card {
    background: #fff;
    border-radius: 16px;
    border: 1px solid rgba(30, 58, 138, 0.14);
    box-shadow: 0 10px 24px rgba(13, 27, 76, 0.08);
    overflow: hidden;
    min-height: 240px;
    width: 100%;
    box-sizing: border-box;
}

.ps-summary-head {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    font-weight: 800;
    color: #fff;
    letter-spacing: 0.02em;
}

.ps-surface-blue {
    background: linear-gradient(135deg, #1e3a8a, #214fb8);
}

.ps-surface-blue-strong {
    background: linear-gradient(135deg, #0f56c9, #1e3a8a);
}

.ps-summary-body {
    padding: 14px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.ps-summary-title {
    margin: 0;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-empty-block {
    text-align: center;
    color: var(--ps-muted);
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 10px 0;
}

.ps-empty-block i {
    font-size: 28px;
    color: rgba(30, 58, 138, 0.6);
}

.ps-summary-body .ps-list {
    gap: 8px;
}

.ps-summary-body .ps-list-title {
    font-weight: 700;
}

.ps-summary-body .ps-session-meta {
    margin: 0;
}

.ps-metrics {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 8px;
}

.ps-metric-label {
    margin: 0;
    color: var(--ps-muted);
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

.ps-metric-value {
    margin: 0;
    font-weight: 800;
    color: var(--ps-deep);
    font-size: 18px;
}

.ps-summary-footer {
    padding: 0 14px 12px;
}

.ps-quickbar {
    background: #ffffff;
    border-radius: 14px;
    border: 1px solid rgba(30, 58, 138, 0.12);
    box-shadow: 0 8px 18px rgba(13, 27, 76, 0.08);
    padding: 12px 14px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
}

.ps-quickitem {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: 12px;
    background: linear-gradient(120deg, rgba(30, 58, 138, 0.06), rgba(33, 79, 184, 0.08));
    border: 1px solid rgba(30, 58, 138, 0.12);
}

.ps-quickitem i {
    font-size: 18px;
    color: #1e3a8a;
}

.ps-quickitem p {
    margin: 0;
    font-weight: 700;
    color: var(--ps-deep);
}

.ps-quickitem a {
    color: #0f56c9;
    text-decoration: none;
    font-weight: 700;
}

.ps-hero {
    background: linear-gradient(145deg, rgba(30, 58, 138, 0.10), rgba(13, 27, 76, 0.06)), #ffffff;
    border: 1px solid rgba(30, 58, 138, 0.18);
    border-radius: 18px;
    padding: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 20px;
    box-shadow: var(--ps-shadow);
    width: 100%;
    box-sizing: border-box;
    flex-wrap: wrap;
}

.ps-hero h1 {
    margin: 4px 0 8px;
    font-size: 24px;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-hero-actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.ps-welcome-card {
    background: linear-gradient(145deg, rgba(30, 58, 138, 0.08), rgba(255, 255, 255, 0.95));
    border: 1px solid rgba(30, 58, 138, 0.18);
    border-radius: 22px;
    padding: 24px 24px 22px;
    --ps-welcome-indent: 126px;
    box-shadow: 0 18px 38px rgba(13, 27, 76, 0.16);
    display: flex;
    flex-direction: column;
    gap: 16px;
    width: 100%;
    box-sizing: border-box;
}

.ps-welcome-head {
    display: flex;
    gap: 16px;
    align-items: center;
}

.ps-welcome-logo img {
    width: 100px;
    height: 50px;
    border-radius: 15px;
    box-shadow: 0 16px 34px rgba(13, 27, 76, 0.18);
    background: #0f1f52;
    padding: px;
}

.ps-welcome-name {
    margin: 2px 0 4px;
    font-size: 24px;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-welcome-message {
    background: #ffffff;
    border-radius: 16px;
    padding: 26px 22px 22px;
    border: 1px solid rgba(30, 58, 138, 0.12);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.9), 0 12px 28px rgba(13, 27, 76, 0.10);
    color: var(--ps-text);
    line-height: 1.6;
    font-weight: 500;
    margin-left: var(--ps-welcome-indent);
    width: calc(100% - var(--ps-welcome-indent));
}

.ps-welcome-message h3 {
    margin: 0 0 8px;
    font-weight: 600;
    color: var(--ps-deep);
    font-size: 22px;
}

.ps-welcome-message p {
    margin: 0;
    font-weight: 500;
}

.ps-form {
    margin-top: 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-accordion {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.ps-accordion summary {
    cursor: pointer;
    padding: 12px 14px;
    border-radius: 12px;
    background: linear-gradient(120deg, rgba(30, 58, 138, 0.10), rgba(13, 27, 76, 0.06));
    border: 1px solid rgba(30, 58, 138, 0.16);
    font-weight: 700;
    color: var(--ps-deep);
    display: flex;
    align-items: center;
    gap: 8px;
}

.ps-accordion .ps-accordion-item > div {
    padding: 14px;
}

.ps-grid.ps-grid-2 {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 12px;
}

.ps-field label {
    font-weight: 700;
    color: var(--ps-deep);
}

.ps-field input,
.ps-field select {
    width: 100%;
    border-radius: 10px;
    border: 1px solid #dfe5f5;
    padding: 10px 12px;
    background: #fff;
}

.ps-field input:focus,
.ps-field select:focus {
    border-color: #1e3a8a;
    box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.12);
    outline: none;
}

.ps-actions {
    margin-top: 16px;
    display: flex;
    justify-content: flex-end;
}

.ps-alert {
    margin: 10px 0;
}
.ps-highlights {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 10px;
}

.ps-highlights span {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    border-radius: 12px;
    background: rgba(30, 58, 138, 0.08);
    color: var(--ps-deep);
    font-weight: 700;
    border: 1px solid rgba(30, 58, 138, 0.14);
}

.ps-highlights i {
    color: #1e3a8a;
}

.ps-eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.12em;
    font-size: 11px;
    color: #1b2552;
    margin: 0 0 4px;
    font-weight: 700;
}

.ps-subtitle {
    margin: 0;
    color: var(--ps-muted);
    font-size: 13px;
}

.ps-hero-stats {
    display: grid;
    grid-template-columns: repeat(3, minmax(120px, 1fr));
    gap: 12px;
}

.ps-stat {
    background: radial-gradient(circle at 20% 20%, rgba(30, 58, 138, 0.08), transparent 50%), #ffffff;
    border-radius: 12px;
    padding: 12px 14px;
    border: 1px solid rgba(30, 58, 138, 0.16);
    box-shadow: 0 6px 20px rgba(13, 27, 76, 0.08);
    position: relative;
    overflow: hidden;
}

.ps-stat-label {
    display: block;
    color: var(--ps-muted);
    font-size: 11px;
}

.ps-stat-value {
    font-size: 18px;
    font-weight: 700;
    margin-top: 4px;
    color: var(--ps-deep);
}

.ps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 18px;
    margin: 24px 0;
}

.ps-card {
    background: linear-gradient(145deg, rgba(30, 58, 138, 0.04), rgba(255, 255, 255, 0.92));
    border-radius: var(--ps-radius);
    border: 1px solid rgba(30, 58, 138, 0.2);
    padding: 18px;
    box-shadow: 0 8px 22px rgba(15, 23, 42, 0.05);
    position: relative;
    overflow: hidden;
    width: 100%;
    box-sizing: border-box;
}

.ps-card-wide {
    grid-column: 1 / -1;
}

.ps-card-highlight {
    background: linear-gradient(145deg, rgba(30, 58, 138, 0.14), rgba(13, 27, 76, 0.10)), var(--ps-primary-soft-2);
    color: var(--ps-text);
    border: 1px solid rgba(30, 58, 138, 0.18);
}

.ps-card::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 10% 20%, rgba(30, 58, 138, 0.06), transparent 50%);
    pointer-events: none;
}

.ps-card-highlight .ps-session-meta,
.ps-card-highlight .ps-eyebrow {
    color: #1b2552;
}

.ps-card-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 10px;
}

.ps-card-head h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 800;
}

.ps-card-head .ps-link {
    font-weight: 700;
    color: var(--ps-deep);
}

.ps-card p,
.ps-session-meta,
.ps-list-title {
    font-size: 14px;
}

.ps-link {
    font-weight: 600;
    text-decoration: none;
    color: var(--ps-primary);
    font-size: 13px;
}

.ps-session {
    background: rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    padding: 14px;
    border: 1px solid rgba(255, 255, 255, 0.18);
}

.ps-session-title {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 8px;
}

.ps-session-meta {
    margin: 4px 0;
    color: var(--ps-muted);
    font-size: 13px;
}

.ps-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-session-row {
    padding: 10px 12px;
    border: 1px solid var(--ps-border);
    border-radius: 12px;
    background: #fff;
    box-shadow: 0 6px 14px rgba(13, 27, 76, 0.06);
}

.ps-list-inline {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 8px;
}

.ps-list-title {
    font-weight: 700;
    margin: 0;
}

.ps-pill {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    background: rgba(13, 27, 76, 0.12);
    color: var(--ps-deep);
    font-weight: 700;
    font-size: 12px;
}

.ps-pill-soft {
    background: rgba(30, 58, 138, 0.08);
}

.ps-pill-info {
    background: #3b82f6;
    color: #fff;
}

.ps-pill-xs {
    padding: 2px 8px;
    font-size: 11px;
}

.ps-resource-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 12px;
}

.ps-resource {
    border: 1px solid rgba(30, 58, 138, 0.14);
    border-radius: 12px;
    padding: 14px;
    background: linear-gradient(145deg, rgba(30, 58, 138, 0.04), #fbfdff);
    box-shadow: 0 6px 18px rgba(13, 27, 76, 0.06);
}

.ps-resources {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-resources-head h3 {
    margin: 0;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-resource-stack {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-resource-card {
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 16px 32px rgba(13, 27, 76, 0.14);
    border: 1px solid rgba(30, 58, 138, 0.16);
}

.ps-resource-card-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 16px;
    background: linear-gradient(135deg, #1e3a8a, #1f56b8);
    color: #fff;
}

.ps-resource-card-head h4 {
    margin: 0;
    font-size: 18px;
    font-weight: 800;
}

.ps-resource-card-head .ps-session-meta {
    color: rgba(255, 255, 255, 0.85);
}

.ps-chip-secondary {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.35);
    color: #fff;
    font-weight: 700;
}

.ps-resource-block {
    background: #0f1f52;
    padding: 14px 16px;
    border-bottom: 1px solid rgba(30, 58, 138, 0.08);
}

.ps-resource-block:last-child {
    border-bottom: none;
}

.ps-resource-block-head {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 800;
    color: var(--ps-deep);
    margin-bottom: 6px;
    text-transform: uppercase;
    letter-spacing: 0.02em;
}

.ps-resource-block-body {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    flex-wrap: wrap;
}

.ps-tag-warning {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: rgba(255, 193, 7, 0.18);
    color: #b87a00;
    padding: 8px 10px;
    border-radius: 12px;
    font-weight: 800;
}

.ps-resource-materials {
    background: #fff;
}

.ps-hero-block {
    background: #fff;
    border-radius: 16px;
    padding: 16px 18px;
    border: 1px solid rgba(30, 58, 138, 0.14);
    box-shadow: 0 12px 26px rgba(13, 27, 76, 0.12);
    margin-bottom: 10px;
}

.ps-hero-block-blue {
    background: linear-gradient(135deg, #1e3a8a, #1f56b8);
    color: #fff;
    border: none;
}

.ps-hero-block h2 {
    margin: 2px 0 0;
    color: inherit;
    font-weight: 800;
    font-size: 26px;
}

.ps-code-badge {
    background: #fff;
    color: var(--ps-deep);
    padding: 10px 14px;
    border-radius: 12px;
    font-weight: 800;
    box-shadow: 0 8px 20px rgba(13, 27, 76, 0.16);
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.ps-status-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 16px;
    margin: 14px 0;
    width: 100%;
}

.ps-status-card {
    background: #fff;
    border-radius: 12px;
    padding: 10px 12px;
    border: 1px solid rgba(30, 58, 138, 0.12);
    box-shadow: 0 6px 18px rgba(13, 27, 76, 0.08);
    display: flex;
    gap: 8px;
    align-items: flex-start;
    min-height: 72px;
}

/* Media query para pantallas grandes (mejor balance desktop) */
@media (min-width: 1025px) {
    .o-bl-wrapper {
        grid-template-columns: 1.5fr 0.5fr;
        gap: 50px;
        padding: 60px 80px;
        max-width: 1440px;
    }
    
    .o-bl-feature-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 22px;
    }
    
    .o-bl-card {
        max-width: 420px;
        padding: 30px;
    }
}

@media (max-width: 900px) {
    .ps-status-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
    
    .ps-hero {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .ps-hero-stats {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        width: 100%;
    }
    
    .ps-table-head, .ps-table-row {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    
    .ps-navbar {
        flex-wrap: wrap;
        padding: 12px 18px;
        gap: 12px;
    }
    
    .ps-logo {
        height: 55px;
        width: auto;
        transform: scale(1);
    }
    
    .ps-nav {
        flex-wrap: wrap;
    }
}

.ps-status-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 16px;
}

.ps-status-icon-green { background: #2bb673; }
.ps-status-icon-blue { background: #1e3a8a; }
.ps-status-icon-orange { background: #f4a025; }

.ps-status-label {
    margin: 0;
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--ps-muted);
}

.ps-status-value {
    margin: 2px 0 2px;
    font-size: 18px;
    font-weight: 900;
    color: var(--ps-deep);
}

.ps-table-card {
    margin-top: 14px;
    background: linear-gradient(135deg, #f9fbff, #ffffff);
    border-radius: 16px;
    border: 1px solid rgba(30, 58, 138, 0.12);
    box-shadow: 0 12px 28px rgba(13, 27, 76, 0.1);
    padding: 14px 16px 10px;
}

.ps-pill-neutral {
    background: #e1e4ed;
    color: var(--ps-deep);
    padding: 6px 12px;
    border-radius: 12px;
    font-weight: 700;
}

.ps-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    background: linear-gradient(135deg, #2140a0, #162a66);
    color: #fff;
    padding: 9px 14px;
    border-radius: 10px;
    text-decoration: none;
    border: none;
    cursor: pointer;
    font-weight: 700;
}

.ps-button:disabled,
.ps-button.ps-button-disabled {
    opacity: 0.6;
    cursor: not-allowed;
    box-shadow: none;
    filter: saturate(0.7);
}

.ps-button-ghost {
    background: rgba(13, 27, 76, 0.12);
    color: var(--ps-deep);
}

.ps-button-danger {
    background: linear-gradient(135deg, #dc2626, #991b1b);
    color: #fff;
}

.ps-button-danger:hover {
    background: linear-gradient(135deg, #b91c1c, #7f1d1d);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
}

.ps-button-danger:active {
    transform: translateY(0);
}

.ps-week-nav {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.ps-agenda {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 12px;
}

.ps-agenda-day {
    border: 1px solid var(--ps-border);
    border-radius: 12px;
    padding: 12px;
    background: #fff;
}

.ps-agenda-day-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 8px;
}

.ps-agenda-item {
    padding: 10px 0;
    border-top: 1px dashed var(--ps-border);
}

.ps-week {
    background: #fff;
    border-radius: 18px;
    border: 1px solid rgba(30, 58, 138, 0.14);
    box-shadow: 0 14px 32px rgba(13, 27, 76, 0.12);
    padding: 18px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-width: 1300px;
    margin: 0 auto;
}

.ps-week-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 10px;
}

.ps-week-head h3 {
    margin: 2px 0;
    font-size: 20px;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-week-head .ps-session-meta {
    margin: 2px 0 0;
}

.ps-week-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 16px;
}
.ps-week-grid-tight {
    gap: 12px;
}

.ps-week-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 10px;
    margin: 16px 0 12px;
}

.ps-planner {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-available-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 12px;
}

.ps-available-card {
    border: 1px solid rgba(30, 58, 138, 0.14);
    border-radius: 14px;
    background: #fff;
    box-shadow: 0 10px 24px rgba(13, 27, 76, 0.1);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.ps-available-head {
    padding: 12px 14px;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 10px;
    background: linear-gradient(135deg, #e7ecff, #f5f7ff);
}

.ps-available-body {
    padding: 12px 14px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.ps-available-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
}

.ps-available-actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    flex-wrap: wrap;
}

.ps-week-actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 6px;
}

#ps-agenda-feedback {
    margin: 10px 0;
}

.ps-toast {
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid transparent;
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
}

.ps-toast-success {
    background: #ecfdf3;
    border-color: #bbf7d0;
    color: #166534;
}

.ps-toast-error {
    background: #fef2f2;
    border-color: #fecdd3;
    color: #7f1d1d;
}

/* HU-E8: Toast de advertencia para BCheck */
.ps-toast-warning {
    background: #fef3c7;
    border-color: #fcd34d;
    color: #92400e;
    border-left: 4px solid #f59e0b;
}

.ps-week-day {
    border: 1px solid rgba(30, 58, 138, 0.12);
    border-radius: 14px;
    overflow: hidden;
    background: linear-gradient(180deg, rgba(30, 58, 138, 0.06), #fff);
    min-height: 160px;
}

.ps-week-day-head {
    padding: 8px 10px;
    background: linear-gradient(135deg, #1e3a8a, #214fb8);
    color: #fff;
    font-weight: 800;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.ps-week-day-name {
    text-transform: capitalize;
    font-size: 14px;
}

.ps-week-day-date {
    font-size: 11px;
    opacity: 0.88;
}

.ps-week-sessions {
    padding: 8px 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.ps-week-sessions-compact {
    max-height: 520px;
    overflow-y: auto;
    padding-right: 6px;
}

.ps-week-session {
    padding: 10px;
    border-radius: 10px;
    background: #fff;
    border: 1px solid rgba(30, 58, 138, 0.12);
    box-shadow: 0 4px 12px rgba(13, 27, 76, 0.06);
}

.ps-week-session-compact {
    padding: 6px;
}

.ps-week-session-compact .ps-list-title {
    font-size: 13px;
    margin-bottom: 2px;
}

.ps-week-session-compact .ps-session-meta {
    font-size: 11px;
    margin: 1px 0;
}

.ps-week-session-compact .ps-tag-warning {
    font-size: 10px;
    padding: 2px 6px;
}

.ps-week-session-compact .ps-button {
    padding: 5px 8px;
    font-size: 11px;
    border-radius: 8px;
}

.ps-week-session-row {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 8px;
}

.ps-week-session-main {
    flex: 1;
    min-width: 0;
}

.ps-week-session-badges {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
    margin-bottom: 4px;
}

.ps-week-session-title {
    font-weight: 700;
    color: #1e293b;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.ps-week-session-inline {
    display: flex;
    align-items: center;
    gap: 6px;
    flex-wrap: wrap;
    font-size: 11px;
    color: #475569;
}

.ps-session-sep {
    color: #94a3b8;
}

.ps-week-session-action {
    display: flex;
    align-items: flex-start;
}

.ps-button-xs {
    padding: 4px 8px;
    font-size: 11px;
    border-radius: 8px;
}

.ps-tag-warning-compact {
    margin-top: 4px;
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.ps-week-summary-compact {
    gap: 12px;
    margin: 18px 0;
}

.ps-status-card-compact {
    padding: 0.75rem 1rem;
}

.ps-status-card-compact .ps-status-icon {
    width: 40px;
    height: 40px;
}

.ps-status-card-compact .ps-status-label {
    font-size: 0.7rem;
    margin-bottom: 0.2rem;
}

.ps-status-card-compact .ps-status-value {
    font-size: 1.5rem;
    margin-bottom: 0.2rem;
}

.ps-my-agenda-card {
    padding: 10px;
}

.ps-my-agenda-head {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
}

.ps-my-agenda-title {
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 6px;
}

.ps-my-agenda-meta {
    font-size: 12px;
    color: #475569;
    display: flex;
    align-items: center;
    gap: 6px;
    margin: 2px 0;
}

.ps-my-agenda-meta i {
    color: #2563eb;
}

.ps-my-agenda-sep {
    margin: 0 6px;
    color: #94a3b8;
}

.ps-my-agenda-warning {
    margin-top: 6px;
    font-size: 12px;
    color: #92400e;
    background: #fffbeb;
    border: 1px solid #fcd34d;
    padding: 6px 8px;
    border-radius: 8px;
}

.ps-my-agenda-actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    margin-top: 8px;
    flex-wrap: wrap;
}

.ps-my-agenda-card .ps-button {
    padding: 6px 10px;
    font-size: 12px;
    border-radius: 8px;
}

.ps-empty-compact {
    padding: 14px;
}

.ps-pill-warning {
    background: #f59e0b;
    color: #fff;
}

.ps-plan, .ps-phase, .ps-level {
    padding: 10px 0;
    border-top: 1px solid var(--ps-border);
}

.ps-program-card {
    background: #fff;
    border-radius: 18px;
    border: 1px solid rgba(30, 58, 138, 0.14);
    box-shadow: 0 16px 34px rgba(13, 27, 76, 0.14);
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-program-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

.ps-program-head h3 {
    margin: 2px 0;
    color: var(--ps-deep);
}

.ps-program-grid {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-program-item {
    border: 1px solid rgba(30, 58, 138, 0.12);
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 10px 24px rgba(13, 27, 76, 0.08);
}

.ps-program-banner {
    background: linear-gradient(135deg, #1e3a8a, #1f56b8);
    color: #fff;
    padding: 14px 16px;
}

.ps-program-banner h4 {
    margin: 2px 0;
    font-size: 20px;
    font-weight: 800;
}

.ps-program-banner .ps-session-meta {
    color: rgba(255, 255, 255, 0.85);
}

.ps-program-body {
    padding: 12px 14px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    background: #f7f9ff;
}

.ps-plan-card {
    background: #fff;
    border: 1px solid rgba(30, 58, 138, 0.12);
    border-radius: 12px;
    padding: 10px;
    box-shadow: 0 6px 18px rgba(13, 27, 76, 0.08);
}

.ps-plan-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
}

.ps-plan-head h5 {
    margin: 0;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-plan-body {
    padding: 8px 2px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.ps-phase-card {
    border: 1px solid rgba(30, 58, 138, 0.12);
    border-radius: 10px;
    background: #fff;
    padding: 10px;
}

.ps-phase-head {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 6px;
}

.ps-level-card {
    border: 1px dashed rgba(30, 58, 138, 0.2);
    border-radius: 10px;
    padding: 10px;
    background: #f9fbff;
    margin-top: 6px;
}

.ps-chip {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 6px 10px;
    border-radius: 10px;
    background: #eef2fb;
    color: var(--ps-primary-strong);
    font-weight: 600;
}

.ps-table {
    width: 100%;
    border-collapse: collapse;
    display: grid;
    gap: 6px;
}

.ps-table-head, .ps-table-row {
    display: grid;
    grid-template-columns: repeat(6, minmax(0, 1fr));
    gap: 8px;
    align-items: center;
}

.ps-table-head {
    font-weight: 700;
    color: #4b5563;
    font-size: 13px;
    letter-spacing: 0.01em;
}

.ps-table-row {
    padding: 12px 0;
    border-bottom: 1px solid rgba(30, 58, 138, 0.08);
    align-items: center;
}

.ps-empty .ps-card {
    text-align: center;
}

.ps-table-row:hover {
    background: rgba(30, 58, 138, 0.03);
    border-radius: 12px;
}

.ps-pill-neutral {
    background: linear-gradient(135deg, #dfe3ed, #e9edf5);
    color: var(--ps-deep);
    padding: 6px 12px;
    border-radius: 14px;
    font-weight: 800;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 96px;
}

/* Login Benglish */
body.o-bl-body {
    background: radial-gradient(circle at 18% 18%, rgba(30, 58, 138, 0.09), transparent 45%), #eef1f8;
    min-height: 100vh;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
    width: 100%;
}
html.o-bl-body {
    width: 100%;
    overflow-x: hidden;
    box-sizing: border-box;
}

.o-bl-wrapper {
    display: grid;
    grid-template-columns: 1.4fr 0.6fr;
    gap: 40px;
    padding: 54px 60px;
    max-width: 1320px;
    width: 100%;
    margin: 0 auto;
    min-height: 100vh;
    align-items: center;
    position: relative;
    box-sizing: border-box;
}

.o-bl-left {
    display: flex;
    flex-direction: column;
    gap: 32px;
    width: 100%;
    max-width: 100%;
}

.o-bl-identity {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 18px;
    align-items: center;
}

.o-bl-logo {
    width: auto;
    height: 80px;
    object-fit: contain;
    background: #0f1f52;
    border-radius: 12px;
    box-shadow: 0 12px 30px rgba(13, 27, 76, 0.12);
    padding: px;
}

.o-bl-eyebrow {
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--ps-muted);
    font-size: 11px;
    font-weight: 700;
}

.o-bl-title {
    margin: 2px 0 8px;
    font-size: 32px;
    font-weight: 800;
    color: var(--ps-deep);
}

.o-bl-tagline {
    margin: 0;
    font-size: 17px;
    color: var(--ps-text);
    max-width: 640px;
}

.o-bl-feature-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 18px;
    margin-top: 26px;
    align-items: stretch;
}

.o-bl-feature {
    background: #fff;
    border-radius: 16px;
    padding: 24px 18px 18px;
    border: 1px solid rgba(30, 58, 138, 0.16);
    box-shadow: 0 14px 28px rgba(13, 27, 76, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.9);
    position: relative;
    overflow: hidden;
}

.o-bl-feature h3 {
    margin: 8px 0 6px;
    font-size: 18px;
    color: var(--ps-deep);
    font-weight: 800;
}

.o-bl-feature p {
    margin: 0;
    color: var(--ps-muted);
    line-height: 1.5;
    font-size: 14px;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

.o-bl-icon {
    width: 38px;
    height: 38px;
    border-radius: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 17px;
}

.o-bl-icon.green { background: #2bb673; }
.o-bl-icon.blue { background: #2140a0; }
.o-bl-icon.orange { background: #f4a025; }

.o-bl-feature::before {
    content: "";
    position: absolute;
    left: 12px;
    right: 12px;
    top: 10px;
    height: 6px;
    border-radius: 999px;
    background: linear-gradient(90deg, rgba(33, 64, 160, 0.24), rgba(33, 64, 160, 0.6));
}

.o-bl-feature::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    border: 1px solid rgba(33, 64, 160, 0.12);
    pointer-events: none;
}

.o-bl-right {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 100%;
}

.o-bl-card {
    width: 100%;
    max-width: 450px;
    background: #fff;
    border: 1px solid rgba(30, 58, 138, 0.12);
    border-radius: 18px;
    padding: 28px;
    box-shadow: 0 18px 42px rgba(13, 27, 76, 0.14);
}

.o-bl-card-head {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 10px;
}

.o-bl-card h2 {
    margin: 4px 0;
    font-size: 24px;
    font-weight: 800;
    color: var(--ps-deep);
}

.o-bl-reset {
    margin-top: 12px;
}

.o-bl-reset-title {
    margin: 4px 0 6px;
    font-size: 18px;
    font-weight: 800;
    color: var(--ps-deep);
}

.o-bl-subtitle {
    margin: 0;
    color: var(--ps-muted);
}

.o-bl-badge {
    width: auto;
    height: 50px;
    object-fit: contain;
    background: #0f1f52;
    border-radius: 10px;
    padding: px;
    box-shadow: 0 8px 20px rgba(13, 27, 76, 0.10);
}

.o-bl-form {
    display: flex;
    flex-direction: column;
    gap: 14px;
    margin-top: 10px;
}

.o-bl-field {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.o-bl-label {
    font-weight: 700;
    color: var(--ps-text);
}

.o-bl-input {
    border: 1px solid #dce3f0;
    border-radius: 12px;
    padding: 10px 12px;
    background: #f7f9ff;
    transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    box-shadow: inset 0 1px 2px rgba(13, 27, 76, 0.04);
}

.o-bl-input:focus {
    outline: none;
    border-color: #2140a0;
    box-shadow: 0 0 0 3px rgba(33, 64, 160, 0.15);
    background: #fff;
}

.o-bl-input-group {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 10px;
    align-items: center;
}

.o-bl-button-ghost {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: 12px;
    border: 1px solid rgba(33, 64, 160, 0.2);
    color: var(--ps-deep);
    background: rgba(33, 64, 160, 0.06);
    text-decoration: none;
    font-weight: 700;
}

.o-bl-actions {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 6px;
}

.o-bl-btn-primary {
    width: 100%;
    background: linear-gradient(135deg, #2140a0, #162a66);
    color: #fff;
    padding: 12px 16px;
    border: none;
    border-radius: 12px;
    font-weight: 800;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.1s ease, box-shadow 0.2s ease;
}

.o-bl-btn-primary:hover {
    box-shadow: 0 12px 24px rgba(33, 64, 160, 0.30);
}

.o-bl-btn-primary:active {
    transform: translateY(1px);
}

.o-bl-btn-link {
    background: none;
    border: none;
    color: var(--ps-deep);
    font-weight: 700;
    cursor: pointer;
    text-decoration: underline;
}

.o-bl-links {
    margin-top: 6px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    text-align: center;
}

.o-bl-links a {
    color: #2140a0;
    font-weight: 700;
    text-decoration: none;
}

.o-bl-links a:hover {
    text-decoration: underline;
}

.o-bl-reset-note {
    margin-top: 10px;
    color: var(--ps-muted);
    font-size: 12px;
}

.o-bl-footer {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px dashed #dce3f0;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    font-size: 13px;
}

.o-bl-footer-link {
    color: var(--ps-muted);
    text-decoration: none;
    font-weight: 600;
}

.o-bl-footer-link:hover {
    color: var(--ps-deep);
    text-decoration: underline;
}

.o-bl-card .alert.alert-danger,
.o-bl-card .alert.alert-success {
    border-radius: 12px;
}

.o-bl-ornament {
    position: absolute;
    width: 180px;
    height: 180px;
    background: radial-gradient(circle, rgba(33, 64, 160, 0.15) 0%, rgba(33, 64, 160, 0) 70%);
    filter: blur(30px);
    z-index: 0;
}

@media (max-width: 900px) {
    .ps-hero {
        flex-direction: column;
        align-items: flex-start;
    }
    .ps-hero-stats {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        width: 100%;
    }
    .ps-table-head, .ps-table-row {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@media (max-width: 1024px) {
    .ps-navbar {
        flex-wrap: wrap;
        gap: 10px;
        padding: 12px 20px;
    }
    .ps-brand {
        margin-bottom: 0;
        flex: 0 0 auto;
    }
    .ps-logo {
        height: 54px;
        width: auto;
    }
    .ps-nav {
        flex: 1 1 auto;
        flex-wrap: wrap;
        margin-left: 0;
        justify-content: flex-start;
    }
    .ps-user {
        margin-left: auto;
        width: auto;
        justify-content: flex-end;
        flex: 0 0 auto;
    }
    .ps-app-grid {
        flex-direction: column;
    }
    .ps-side-card {
        width: 100%;
        position: relative;
        top: 0;
    }
}

@media (max-width: 768px) {
    .ps-navbar {
        padding: 10px 16px;
        gap: 10px;
        flex-wrap: wrap;
    }
    
    .ps-brand {
        order: 1;
        flex: 0 0 auto;
    }
    
    .ps-logo {
        height: 50px;
        width: auto;
        transform: scale(1);
    }
    
    .ps-user {
        order: 2;
        margin-left: auto;
        flex: 0 0 auto;
    }
    
    .ps-nav {
        order: 3;
        flex: 1 1 100%;
        flex-wrap: wrap;
        gap: 6px;
        margin-left: 0;
    }
    
    .ps-nav-trigger {
        padding: 7px 10px;
        font-size: 13px;
    }
    
    .ps-dropdown {
        min-width: 180px;
        max-width: calc(100vw - 32px);
    }
    
    .ps-shell {
        padding: 0 14px;
        margin: 20px auto 40px;
    }
    
    .ps-summary-grid {
        grid-template-columns: 1fr;
        gap: 14px;
    }
    
    .ps-summary-card {
        min-height: 200px;
    }
    
    .ps-week {
        padding: 12px;
    }
    
    .ps-week-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
    
    .ps-resource-card-head h4 {
        font-size: 16px;
    }
    
    .ps-program-card {
        padding: 12px;
    }
    
    .ps-quickbar {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    }
    
    .ps-welcome-card {
        padding: 16px;
        --ps-welcome-indent: 0px;
    }
}

@media (max-width: 540px) {
    .ps-navbar {
        flex-direction: column;
        align-items: stretch;
        padding: 10px 12px;
        gap: 10px;
    }
    
    .ps-brand {
        width: 100%;
        justify-content: center;
        order: 1;
    }
    
    .ps-logo {
        height: 46px;
        width: auto;
    }
    
    .ps-user {
        width: 100%;
        justify-content: center;
        gap: 10px;
        order: 2;
    }
    
    .ps-nav {
        width: 100%;
        gap: 6px;
        margin-left: 0;
        justify-content: center;
        order: 3;
    }
    
    .ps-nav-item {
        width: auto;
        flex: 0 0 auto;
    }
    
    .ps-nav-trigger {
        font-size: 12px;
        padding: 6px 9px;
    }
    
    .ps-notif-dropdown,
    .ps-user-dropdown {
        position: fixed !important;
        width: calc(100vw - 24px) !important;
        min-width: 0 !important;
        right: 12px !important;
        left: 12px !important;
        max-height: 80vh;
        overflow-y: auto;
    }
    
    .ps-dropdown {
        position: fixed !important;
        left: 12px !important;
        right: 12px !important;
        width: calc(100vw - 24px) !important;
        max-width: none !important;
        top: auto !important;
    }
    
    .ps-summary-card {
        min-height: 180px;
    }
    
    .ps-week-grid {
        grid-template-columns: 1fr;
    }
    
    .ps-quickbar {
        grid-template-columns: 1fr;
    }
    
    .ps-shell {
        padding: 0 10px;
        margin: 16px auto 32px;
    }
}

/* TPE17: Media query específica para dispositivos muy pequeños (< 400px) */
@media (max-width: 400px) {
    /* Ajustar navbar para pantallas muy pequeñas */
    .ps-navbar {
        padding: 10px 12px;
        gap: 8px;
    }
    
    .ps-logo {
        height: 44px;
        width: auto;
        transform: scale(1);
    }
    
    /* Fix crítico: Dropdowns que se salen del viewport */
    .ps-notif-dropdown,
    .ps-user-dropdown {
        position: fixed !important;
        top: auto !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important;
        max-height: 70vh;
        overflow-y: auto;
        border-radius: 16px 16px 0 0;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
        z-index: 9999;
        transform: none !important;
        margin: 0 !important;
    }
    
    /* Mejorar visualización de notificaciones en móvil pequeño */
    .ps-notif-head {
        padding: 16px;
        font-size: 16px;
        border-bottom: 1px solid var(--ps-border);
        position: sticky;
        top: 0;
        background: white;
        z-index: 1;
    }
    
    .ps-notif-item {
        padding: 14px 16px;
        border-bottom: 1px solid var(--ps-border);
    }
    
    .ps-notif-title {
        font-size: 14px;
        margin-bottom: 6px;
    }
    
    .ps-notif-empty {
        padding: 32px 16px;
        text-align: center;
    }
    
    /* Menú de usuario en móvil pequeño */
    .ps-user-dropdown a {
        padding: 14px 16px;
        font-size: 15px;
        border-bottom: 1px solid var(--ps-border);
    }
    
    .ps-user-dropdown a:last-child {
        border-bottom: none;
    }
    
    .ps-user-dropdown a i {
        width: 24px;
        font-size: 16px;
    }
    
    /* Ajustar botones de usuario y notificaciones */
    .ps-notif-btn,
    .ps-user-btn {
        padding: 8px 10px;
        font-size: 14px;
    }
    
    .ps-user-name {
        display: none; /* Ocultar nombre en pantallas muy pequeñas */
    }
    
    /* Ajustar navegación principal */
    .ps-nav {
        flex-direction: column;
        width: 100%;
        gap: 6px;
    }
    
    .ps-nav-item {
        width: 100%;
    }
    
    .ps-nav-trigger {
        width: 100%;
        justify-content: space-between;
        padding: 10px 12px;
        font-size: 14px;
    }
    
    /* Ajustar cards y contenido principal */
    .ps-shell {
        padding: 0 10px;
    }
    
    .ps-card {
        padding: 14px;
        border-radius: 10px;
    }
    
    .ps-card-head h3 {
        font-size: 16px;
    }
    
    .ps-welcome-card {
        padding: 14px;
    }
    
    .ps-welcome-name {
        font-size: 20px;
    }
    
    /* Ajustar grids para pantallas muy pequeñas */
    .ps-status-grid,
    .ps-dashboard-grid,
    .ps-summary-grid {
        grid-template-columns: 1fr;
        gap: 10px;
    }
    
    /* Ajustar botones */
    .ps-button {
        padding: 10px 14px;
        font-size: 14px;
    }
    
    /* Mejorar formularios en móvil pequeño */
    .ps-field input,
    .ps-field select,
    .ps-field textarea {
        font-size: 16px; /* Evitar zoom en iOS */
        padding: 10px 12px;
    }
    
    /* Ajustar agenda semanal */
    .ps-week-day {
        padding: 10px;
    }
    
    .ps-week-session {
        padding: 10px;
        font-size: 13px;
    }
    
    /* Overlay para cerrar dropdowns al hacer clic fuera */
    .ps-notif-dropdown.active::before,
    .ps-user-dropdown.active::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.4);
        z-index: -1;
    }
}

@media (max-width: 640px) {
    .ps-navbar {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
        padding: 10px 14px;
    }
    .ps-nav {
        flex-wrap: wrap;
        gap: 6px;
        margin-left: 0;
        width: 100%;
        justify-content: center;
    }
    .ps-dropdown {
        position: fixed !important;
        left: 12px !important;
        right: 12px !important;
        width: calc(100vw - 24px) !important;
        top: auto !important;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        margin-top: 0;
    }
    .ps-nav-item {
        width: auto;
    }
    .ps-grid {
        grid-template-columns: 1fr;
    }
    
    /* LOGIN RESPONSIVE - OPTIMIZADO */
    .o-bl-wrapper {
        grid-template-columns: 1fr;
        padding: 16px;
        gap: 20px;
        min-height: 100vh;
        width: 100%;
        max-width: 100%;
        margin: 0;
        box-sizing: border-box;
        align-items: flex-start;
        overflow-x: hidden;
        overflow-y: auto;
    }
    
    .o-bl-left {
        display: flex;
        flex-direction: column;
        gap: 16px;
        width: 100%;
        max-width: 100%;
        min-width: 0;
        box-sizing: border-box;
        overflow: hidden;
    }
    
    .o-bl-identity {
        grid-template-columns: 80px 1fr;
        gap: 14px;
        padding: 10px;
        align-items: center;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }
    
    .o-bl-logo {
        width: auto;
        height: 64px;
        padding: 12px;
        flex-shrink: 0;
    }
    
    .o-bl-feature-grid {
        grid-template-columns: 1fr;
        gap: 14px;
        width: 100%;
        max-width: 100%;
        margin-top: 14px;
        overflow: hidden;
    }
    
    .o-bl-feature {
        padding: 18px 16px;
        width: 100%;
        max-width: 100%;
        min-width: 0;
        box-sizing: border-box;
    }

    .o-bl-feature h3 {
        font-size: 17px;
        margin: 8px 0 6px;
        word-wrap: break-word;
    }

    .o-bl-feature p {
        margin: 6px 0 0;
        line-height: 1.6;
        font-size: 14px;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }
    
    .o-bl-eyebrow,
    .o-bl-title,
    .o-bl-tagline {
        overflow-wrap: break-word;
        word-break: break-word;
        max-width: 100%;
    }
    
    .o-bl-title { 
        font-size: 26px;
        margin: 4px 0 8px;
        line-height: 1.2;
    }
    
    .o-bl-tagline { 
        margin: 6px 0 0;
        font-size: 15px;
        line-height: 1.6;
    }
    
    .o-bl-right {
        width: 100%;
        max-width: 100%;
        min-width: 0;
        padding: 0;
        box-sizing: border-box;
        overflow: hidden;
    }
    
    .o-bl-card {
        max-width: 100%;
        width: 100%;
        min-width: 0;
        padding: 22px 18px;
        border-radius: 16px;
        box-sizing: border-box;
        margin: 0;
    }
    
    .o-bl-card-head {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 18px;
    }
    
    .o-bl-card h2 {
        font-size: 20px;
        margin: 2px 0;
    }
    
    .o-bl-badge {
        width: auto;
        height: 44px;
        flex-shrink: 0;
    }
    
    .o-bl-ornament {
        display: none;
    }
    
    .o-bl-input {
        font-size: 16px;
        padding: 11px 13px;
    }
    
    .o-bl-btn-primary {
        padding: 13px 16px;
        font-size: 16px;
    }
    
    .o-bl-form {
        gap: 12px;
    }
    
    .o-bl-field {
        gap: 6px;
    }
}

/* Media query para anchos muy específicos que causan problemas */
@media (max-width: 440px) {
    .o-bl-wrapper {
        padding: 10px;
        gap: 12px;
        min-height: 100vh;
        align-items: flex-start;
    }
    
    .o-bl-left {
        gap: 12px;
    }
    
    .o-bl-identity {
        grid-template-columns: 65px 1fr;
        gap: 10px;
        padding: 6px;
    }
    
    .o-bl-logo {
        width: auto;
        height: 54px;
        padding: 10px;
    }
    
    .o-bl-feature-grid {
        gap: 10px;
        margin-top: 10px;
    }
    
    .o-bl-feature {
        padding: 14px 12px;
    }
    
    .o-bl-feature h3 {
        font-size: 15px;
        margin: 6px 0 4px;
    }
    
    .o-bl-feature p {
        font-size: 12px;
        line-height: 1.4;
    }
    
    .o-bl-title {
        font-size: 20px;
    }
    
    .o-bl-tagline {
        font-size: 13px;
    }
    
    .o-bl-card {
        padding: 16px 12px;
    }
    
    .o-bl-card h2 {
        font-size: 17px;
    }
    
    .o-bl-badge {
        width: auto;
        height: 38px;
    }
}

/* Media query ultra específica para anchos muy pequeños (280px - 380px) */
@media (max-width: 380px) {
    .o-bl-wrapper {
        padding: 8px;
        gap: 10px;
    }
    
    .o-bl-left {
        gap: 10px;
    }
    
    .o-bl-identity {
        grid-template-columns: 60px 1fr;
        gap: 8px;
        padding: 4px;
    }
    
    .o-bl-logo {
        width: auto;
        height: 50px;
        padding: 8px;
    }
    
    .o-bl-eyebrow {
        font-size: 9px;
    }
    
    .o-bl-title {
        font-size: 18px;
        margin: 2px 0 4px;
    }
    
    .o-bl-tagline {
        font-size: 12px;
        line-height: 1.4;
    }
    
    .o-bl-feature-grid {
        gap: 8px;
        margin-top: 8px;
    }
    
    .o-bl-feature {
        padding: 12px 10px;
    }
    
    .o-bl-feature h3 {
        font-size: 14px;
        margin: 4px 0 3px;
    }
    
    .o-bl-feature p {
        font-size: 11px;
        line-height: 1.3;
    }
    
    .o-bl-icon {
        width: 32px;
        height: 32px;
        font-size: 14px;
    }
    
    .o-bl-card {
        padding: 14px 10px;
    }
    
    .o-bl-card h2 {
        font-size: 16px;
    }
    
    .o-bl-badge {
        width: auto;
        height: 35px;
    }
    
    .o-bl-input,
    .o-bl-btn-primary {
        font-size: 15px;
    }
}

/* Responsive adicional para login en pantallas muy pequeñas */
@media (max-width: 480px) {
    .o-bl-wrapper {
        padding: 12px;
        gap: 16px;
        min-height: 100vh;
        max-width: 100vw;
        overflow-x: hidden;
    }
    
    .o-bl-identity {
        grid-template-columns: 70px 1fr;
        gap: 12px;
        padding: 8px;
    }
    
    .o-bl-logo {
        width: auto;
        height: 58px;
        padding: 10px;
    }
    
    .o-bl-card {
        padding: 20px 16px;
        border-radius: 14px;
    }
    
    .o-bl-card-head {
        gap: 12px;
        margin-bottom: 18px;
    }
    
    .o-bl-badge {
        width: auto;
        height: 42px;
    }
    
    .o-bl-card h2 {
        font-size: 19px;
    }
    
    .o-bl-subtitle {
        font-size: 12px;
    }
    
    .o-bl-eyebrow {
        font-size: 9px;
    }
    
    .o-bl-title {
        font-size: 22px;
    }
    
    .o-bl-tagline {
        font-size: 14px;
    }
    
    .o-bl-input {
        padding: 11px 12px;
        font-size: 16px;
    }
    
    .o-bl-btn-primary {
        padding: 13px 15px;
        font-size: 15px;
    }
    
    .o-bl-field {
        gap: 6px;
    }
    
    .o-bl-label {
        font-size: 13px;
    }
    
    .o-bl-form {
        gap: 12px;
    }
    
    .o-bl-feature {
        padding: 16px 14px;
    }
    
    .o-bl-feature h3 {
        font-size: 16px;
    }
    
    .o-bl-feature p {
        font-size: 13px;
        line-height: 1.5;
    }
    
    .o-bl-feature-grid {
        gap: 12px;
    }
    
    .o-bl-left {
        gap: 14px;
    }
}

/* Media query para tablets */
@media (min-width: 641px) and (max-width: 1024px) {
    .o-bl-wrapper {
        grid-template-columns: 1fr;
        padding: 32px 24px;
        gap: 24px;
        max-width: 720px;
        margin: 0 auto;
    }
    
    .o-bl-left {
        display: flex;
        width: 100%;
    }
    
    .o-bl-feature-grid {
        grid-template-columns: repeat(auto-fit, minmax(min(100%, 220px), 1fr));
        gap: 16px;
    }
    
    .o-bl-identity {
        grid-template-columns: 100px 1fr;
        gap: 16px;
    }
    
    .o-bl-logo {
        width: auto;
        height: 70px;
    }
    
    .o-bl-card {
        max-width: 100%;
        margin: 0;
    }
}

/* Media query específica para móviles medianos */
@media (min-width: 481px) and (max-width: 640px) {
    .o-bl-wrapper {
        padding: 20px 16px;
        gap: 18px;
    }
    
    .o-bl-left {
        gap: 18px;
    }
    
    .o-bl-identity {
        grid-template-columns: 85px 1fr;
        gap: 14px;
    }
    
    .o-bl-logo {
        width: auto;
        height: 65px;
    }
    
    .o-bl-feature-grid {
        gap: 14px;
        margin-top: 16px;
    }
    
    .o-bl-feature {
        padding: 18px 16px;
    }
    
    .o-bl-title {
        font-size: 24px;
    }
    
    .o-bl-tagline {
        font-size: 15px;
    }
}

/* HU-E9: Selector de sede/ciudad */
.ps-campus-filter-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(30, 58, 138, 0.12), rgba(13, 27, 76, 0.08));
    border: 1px solid rgba(30, 58, 138, 0.2);
    color: var(--ps-deep);
    font-size: 13px;
    margin-top: 8px;
    box-shadow: 0 4px 12px rgba(13, 27, 76, 0.08);
}

.ps-campus-filter-badge i {
    color: #1e3a8a;
    font-size: 14px;
}

.ps-campus-filter-badge strong {
    font-weight: 800;
}

.ps-campus-selector {
    margin-bottom: 16px;
}

.ps-campus-selector-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 12px;
    margin-top: 12px;
}

.ps-campus-option {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    border-radius: 12px;
    border: 2px solid rgba(30, 58, 138, 0.16);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(30, 58, 138, 0.04));
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
    position: relative;
    overflow: hidden;
    text-decoration: none;
    color: inherit;
}

.ps-campus-option:hover {
    border-color: #1e3a8a;
    background: linear-gradient(135deg, #ffffff, rgba(30, 58, 138, 0.08));
    box-shadow: 0 8px 20px rgba(13, 27, 76, 0.14);
    transform: translateY(-2px);
}

.ps-campus-option-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #1e3a8a, #214fb8);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    flex-shrink: 0;
    box-shadow: 0 6px 16px rgba(30, 58, 138, 0.3);
}

.ps-campus-option-icon-city {
    background: linear-gradient(135deg, #2bb673, #22a460);
}

.ps-campus-option-content {
    flex: 1;
}

.ps-campus-option-content h4 {
    margin: 0 0 4px;
    font-size: 16px;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-campus-option-content p {
    margin: 0;
    font-size: 13px;
    color: var(--ps-muted);
}

.ps-campus-option-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 6px 10px;
    border-radius: 999px;
    background: linear-gradient(135deg, #10b981, #059669);
    color: #fff;
    font-size: 12px;
    font-weight: 800;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    position: absolute;
    top: 12px;
    right: 12px;
}

.ps-campus-details {
    margin-top: 16px;
    border-top: 1px dashed rgba(30, 58, 138, 0.2);
    padding-top: 12px;
}

.ps-campus-details summary {
    cursor: pointer;
    padding: 10px 12px;
    border-radius: 10px;
    background: rgba(30, 58, 138, 0.06);
    border: 1px solid rgba(30, 58, 138, 0.12);
    font-weight: 700;
    color: var(--ps-deep);
    display: flex;
    align-items: center;
    gap: 8px;
    transition: background 0.2s ease;
}

.ps-campus-details summary:hover {
    background: rgba(30, 58, 138, 0.12);
}

.ps-campus-details summary i {
    color: #1e3a8a;
}

.ps-campus-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 12px;
}

.ps-campus-list-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 14px;
    border-radius: 10px;
    border: 1px solid rgba(30, 58, 138, 0.12);
    background: #fff;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
    position: relative;
    text-decoration: none;
    color: inherit;
}

.ps-campus-list-item:hover {
    border-color: #1e3a8a;
    background: rgba(30, 58, 138, 0.04);
    box-shadow: 0 4px 12px rgba(13, 27, 76, 0.1);
}

.ps-campus-list-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: linear-gradient(135deg, rgba(30, 58, 138, 0.12), rgba(13, 27, 76, 0.08));
    color: #1e3a8a;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
}

.ps-campus-list-content {
    flex: 1;
}

.ps-campus-list-content h5 {
    margin: 0 0 2px;
    font-size: 15px;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-campus-list-content p {
    margin: 0;
}

.ps-campus-list-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    border-radius: 999px;
    background: linear-gradient(135deg, #10b981, #059669);
    color: #fff;
    font-size: 11px;
    font-weight: 800;
    box-shadow: 0 4px 10px rgba(16, 185, 129, 0.25);
}

/* Toast notifications */
#ps-agenda-feedback {
    margin: 20px 0;
    min-height: 20px;
}

.ps-toast {
    position: relative; /* Para que el botón de cerrar se posicione correctamente */
    padding: 16px 45px 16px 20px; /* Espacio extra a la derecha para el botón X */
    border-radius: 12px;
    margin-bottom: 12px;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    animation: slideInDown 0.3s ease;
}

/* Botón de cerrar para toast */
.ps-toast-close {
    position: absolute;
    top: 8px;
    right: 12px;
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: inherit;
    opacity: 0.7;
    line-height: 1;
    padding: 0;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.2s ease, transform 0.1s ease;
}

.ps-toast-close:hover {
    opacity: 1;
    transform: scale(1.1);
}

.ps-toast-success {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: #fff;
    border-left: 4px solid #047857;
}

.ps-toast-error {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: #fff;
    border-left: 4px solid #b91c1c;
}

@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================================================
   ESTILOS PARA SOLICITUD DE CONGELAMIENTO (HU-PE-CONG-01)
   ============================================================================ */

.ps-freeze-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 16px;
    margin-bottom: 20px;
}

.ps-freeze-rules {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 12px;
}

.ps-freeze-rule-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.7);
    border: 1px solid rgba(30, 58, 138, 0.12);
    font-weight: 600;
    color: var(--ps-deep);
}

.ps-freeze-rule-item i {
    color: #2bb673;
    font-size: 16px;
}

.ps-freeze-rule-item i.fa-info-circle {
    color: #f4a025;
}

.ps-payment-status {
    display: flex;
    align-items: flex-start;
    gap: 14px;
    padding: 18px;
    border-radius: 12px;
    margin-top: 24px;
    border: none;
}

.ps-payment-status-ok {
    background: transparent;
    border: none;
}

.ps-payment-status-warning {
    background: linear-gradient(135deg, rgba(244, 160, 37, 0.12), rgba(236, 135, 15, 0.06));
    border: 1px solid rgba(244, 160, 37, 0.15);
}

.ps-payment-icon {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 26px;
    flex-shrink: 0;
}

.ps-payment-status-ok .ps-payment-icon {
    background: linear-gradient(135deg, #10b981, #059669);
    color: #fff;
    box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
}

.ps-payment-status-warning .ps-payment-icon {
    background: linear-gradient(135deg, #f4a025, #ec870f);
    color: #fff;
    box-shadow: 0 8px 20px rgba(244, 160, 37, 0.3);
}

.ps-payment-status h4 {
    margin: 8px 0 4px;
    font-size: 18px;
    font-weight: 800;
    color: var(--ps-deep);
}

.ps-freeze-form-card {
    margin-top: 20px;
    background: linear-gradient(145deg, rgba(30, 58, 138, 0.02), #ffffff);
}

.ps-freeze-form {
    display: flex;
    flex-direction: column;
    gap: 18px;
    margin-top: 12px;
}

.ps-field-required label::after {
    content: " *";
    color: #dc2626;
    font-weight: 800;
}

.ps-select {
    width: 100%;
    border-radius: 10px;
    border: 1px solid #dfe5f5;
    padding: 10px 12px;
    background: #f7f9ff;
    font-weight: 600;
    color: var(--ps-deep);
    transition: all 0.2s ease;
}

.ps-select:focus {
    border-color: #1e3a8a;
    box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.12);
    outline: none;
    background: #fff;
}

.ps-textarea {
    width: 100%;
    border-radius: 10px;
    border: 1px solid #dfe5f5;
    padding: 10px 12px;
    background: #f7f9ff;
    font-family: inherit;
    resize: vertical;
    transition: all 0.2s ease;
}

.ps-textarea:focus {
    border-color: #1e3a8a;
    box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.12);
    outline: none;
    background: #fff;
}

.ps-hint {
    display: block;
    margin-top: 6px;
    color: var(--ps-muted);
    font-size: 12px;
    font-style: italic;
}

.ps-enrollment-info {
    margin-top: 10px;
    padding: 12px 14px;
    border-radius: 10px;
    animation: fadeIn 0.3s ease;
}

.ps-info-success {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.12), rgba(5, 150, 105, 0.08));
    border: 1px solid rgba(16, 185, 129, 0.3);
    color: #065f46;
    display: flex;
    align-items: flex-start;
    gap: 10px;
}

.ps-info-success i {
    color: #10b981;
    font-size: 20px;
    margin-top: 2px;
}

.ps-info-warning {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.12), rgba(220, 38, 38, 0.08));
    border: 1px solid rgba(239, 68, 68, 0.3);
    color: #7f1d1d;
    display: flex;
    align-items: flex-start;
    gap: 10px;
}

.ps-info-warning i {
    color: #ef4444;
    font-size: 20px;
    margin-top: 2px;
}

.ps-dias-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(30, 58, 138, 0.14), rgba(13, 27, 76, 0.10));
    border: 2px solid rgba(30, 58, 138, 0.2);
    color: var(--ps-deep);
    font-weight: 700;
    box-shadow: 0 6px 18px rgba(13, 27, 76, 0.12);
    animation: fadeIn 0.3s ease;
}

.ps-dias-badge i {
    color: #1e3a8a;
    font-size: 18px;
}

.ps-freeze-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 8px;
    flex-wrap: wrap;
}

.ps-freeze-actions .ps-button {
    min-width: 160px;
}

.ps-freeze-history {
    display: flex;
    flex-direction: column;
    gap: 14px;
    margin-top: 12px;
}

.ps-freeze-history-item {
    display: flex;
    gap: 14px;
    padding: 16px;
    border-radius: 12px;
    border: 1px solid rgba(30, 58, 138, 0.12);
    background: #fff;
    box-shadow: 0 4px 14px rgba(13, 27, 76, 0.06);
    transition: all 0.2s ease;
}

.ps-freeze-history-item:hover {
    box-shadow: 0 8px 22px rgba(13, 27, 76, 0.12);
    transform: translateY(-2px);
}

.ps-freeze-history-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    flex-shrink: 0;
}

.ps-freeze-status-aprobado .ps-freeze-history-icon {
    background: linear-gradient(135deg, #10b981, #059669);
    color: #fff;
    box-shadow: 0 6px 16px rgba(16, 185, 129, 0.3);
}

.ps-freeze-status-pendiente .ps-freeze-history-icon {
    background: linear-gradient(135deg, #f4a025, #ec870f);
    color: #fff;
    box-shadow: 0 6px 16px rgba(244, 160, 37, 0.3);
}

.ps-freeze-status-rechazado .ps-freeze-history-icon {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: #fff;
    box-shadow: 0 6px 16px rgba(239, 68, 68, 0.3);
}

.ps-freeze-status-finalizado .ps-freeze-history-icon {
    background: linear-gradient(135deg, #1e3a8a, #162a66);
    color: #fff;
    box-shadow: 0 6px 16px rgba(30, 58, 138, 0.3);
}

.ps-freeze-status-borrador .ps-freeze-history-icon {
    background: linear-gradient(135deg, #9ca3af, #6b7280);
    color: #fff;
    box-shadow: 0 6px 16px rgba(156, 163, 175, 0.3);
}

.ps-freeze-history-content {
    flex: 1;
}

.ps-freeze-history-content h4 {
    margin: 0 0 6px;
    font-size: 16px;
    font-weight: 800;
    color: var(--ps-deep);
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.ps-freeze-rejection {
    margin-top: 8px;
    padding: 10px 12px;
    border-radius: 8px;
    background: rgba(239, 68, 68, 0.1);
    border-left: 3px solid #ef4444;
    color: #7f1d1d;
    font-size: 13px;
}

.ps-freeze-rejection strong {
    display: block;
    margin-bottom: 4px;
    font-weight: 800;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================================================
   HU-PE-CONG-02 y T-PE-CONG-03: Banner de congelamiento activo
   ============================================================================ */

.ps-freeze-active-banner {
    background: linear-gradient(135deg, rgba(30, 58, 138, 0.95), rgba(15, 31, 82, 0.95));
    border: 2px solid rgba(30, 58, 138, 0.3);
    border-radius: 18px;
    padding: 24px;
    margin-bottom: 24px;
    box-shadow: 0 18px 42px rgba(13, 27, 76, 0.24), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    display: flex;
    gap: 20px;
    align-items: flex-start;
    position: relative;
    overflow: hidden;
}

.ps-freeze-active-banner::before {
    content: "";
    position: absolute;
    top: -50%;
    right: -10%;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.08) 0%, transparent 70%);
    border-radius: 50%;
}

.ps-freeze-banner-icon {
    width: 72px;
    height: 72px;
    border-radius: 16px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
    border: 2px solid rgba(255, 255, 255, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 32px;
    color: #fff;
    flex-shrink: 0;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    animation: pulseFreeze 2s ease-in-out infinite;
}

@keyframes pulseFreeze {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.9;
    }
}

.ps-freeze-banner-content {
    flex: 1;
    color: #fff;
}

.ps-freeze-banner-content h3 {
    margin: 0 0 10px;
    font-size: 24px;
    font-weight: 800;
    color: #fff;
    display: flex;
    align-items: center;
    gap: 10px;
}

.ps-freeze-banner-content h3 i {
    color: rgba(255, 255, 255, 0.8);
}

.ps-freeze-banner-text {
    margin: 0 0 20px;
    font-size: 15px;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.95);
    font-weight: 500;
}

.ps-freeze-info-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 14px 16px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.12);
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
}

.ps-freeze-info-item i {
    font-size: 22px;
    color: rgba(255, 255, 255, 0.9);
    margin-top: 2px;
}

.ps-freeze-info-item strong {
    display: block;
    font-weight: 800;
    color: #fff;
    margin-bottom: 4px;
    font-size: 14px;
}

.ps-freeze-info-item p {
    margin: 0;
    font-size: 13px;
    color: rgba(255, 255, 255, 0.85);
}

.ps-freeze-financial-reminder {
    margin-top: 20px;
    padding: 16px 18px;
    border-radius: 12px;
    background: rgba(244, 160, 37, 0.15);
    border: 2px solid rgba(244, 160, 37, 0.4);
    display: flex;
    align-items: flex-start;
    gap: 12px;
    backdrop-filter: blur(10px);
}

.ps-freeze-financial-reminder i {
    font-size: 24px;
    color: #fbbf24;
    margin-top: 2px;
    flex-shrink: 0;
}

.ps-freeze-financial-reminder strong {
    display: block;
    color: #fff;
    font-weight: 800;
    margin-bottom: 4px;
    font-size: 15px;
}

.ps-freeze-financial-reminder p {
    margin: 0;
    color: rgba(255, 255, 255, 0.95);
    font-size: 14px;
    line-height: 1.5;
}

/* ============================================================================
   T-PE-CONG-02: Advertencia sobre implicaciones financieras
   ============================================================================ */

.ps-freeze-financial-warning {
    margin-bottom: 24px;
    background: linear-gradient(135deg, rgba(244, 160, 37, 0.08), rgba(236, 135, 15, 0.05));
    border: 2px solid rgba(244, 160, 37, 0.25);
    border-radius: 18px;
    padding: 24px;
    box-shadow: 0 14px 32px rgba(244, 160, 37, 0.12);
    display: flex;
    gap: 20px;
    align-items: flex-start;
    position: relative;
    overflow: hidden;
}

.ps-freeze-financial-warning::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #f4a025, #ec870f, #f4a025);
    background-size: 200% 100%;
    animation: shimmer 3s linear infinite;
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

.ps-freeze-warning-icon {
    width: 64px;
    height: 64px;
    border-radius: 14px;
    background: linear-gradient(135deg, #f4a025, #ec870f);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    flex-shrink: 0;
    box-shadow: 0 10px 26px rgba(244, 160, 37, 0.35);
    animation: bounce 2s ease-in-out infinite;
}

@keyframes bounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-5px);
    }
}

.ps-freeze-warning-content {
    flex: 1;
}

.ps-freeze-warning-content h3 {
    margin: 0 0 14px;
    font-size: 20px;
    font-weight: 800;
    color: var(--ps-deep);
    display: flex;
    align-items: center;
    gap: 10px;
}

.ps-freeze-warning-content h3 i {
    color: #f4a025;
}

.ps-freeze-warning-text {
    background: #fff;
    border-radius: 12px;
    padding: 18px;
    border: 1px solid rgba(244, 160, 37, 0.2);
}

.ps-freeze-warning-text p {
    margin: 0 0 12px;
    font-weight: 600;
    color: var(--ps-deep);
    font-size: 15px;
}

.ps-freeze-warning-list {
    list-style: none;
    padding: 0;
    margin: 12px 0 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.ps-freeze-warning-list li {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 10px;
    background: rgba(30, 58, 138, 0.04);
    border-left: 3px solid transparent;
}

.ps-freeze-warning-list li i.fa-check-circle {
    color: #10b981;
    font-size: 18px;
    margin-top: 2px;
}

.ps-freeze-warning-list li i.fa-exclamation-circle {
    color: #f4a025;
    font-size: 18px;
    margin-top: 2px;
}

.ps-freeze-warning-list li:has(i.fa-exclamation-circle) {
    background: rgba(244, 160, 37, 0.08);
    border-left-color: #f4a025;
}

.ps-freeze-warning-list li span {
    flex: 1;
    font-size: 14px;
    color: var(--ps-text);
    line-height: 1.5;
}

.ps-freeze-warning-highlight {
    margin-top: 16px;
    padding: 14px 16px;
    border-radius: 10px;
    background: linear-gradient(135deg, rgba(30, 58, 138, 0.08), rgba(13, 27, 76, 0.05));
    border: 1px solid rgba(30, 58, 138, 0.15);
    display: flex;
    align-items: flex-start;
    gap: 12px;
}

.ps-freeze-warning-highlight i {
    font-size: 24px;
    color: #1e3a8a;
    margin-top: 2px;
    flex-shrink: 0;
}

.ps-freeze-warning-highlight p {
    margin: 0;
    font-size: 14px;
    line-height: 1.6;
}

.ps-freeze-warning-highlight strong {
    display: block;
    color: var(--ps-deep);
    margin-bottom: 6px;
    font-size: 15px;
}

/* ============================================================================
   T-PE-CONG-02: Checkbox de aceptación de términos
   ============================================================================ */

.ps-freeze-acceptance {
    margin: 20px 0;
    padding: 20px;
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(30, 58, 138, 0.08), rgba(13, 27, 76, 0.05));
    border: 2px solid rgba(30, 58, 138, 0.2);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.ps-freeze-acceptance-box {
    display: flex;
    align-items: flex-start;
    gap: 12px;
}

.ps-checkbox {
    width: 22px;
    height: 22px;
    border-radius: 6px;
    border: 2px solid #1e3a8a;
    cursor: pointer;
    flex-shrink: 0;
    margin-top: 2px;
    transition: all 0.2s ease;
}

.ps-checkbox:checked {
    background: linear-gradient(135deg, #1e3a8a, #162a66);
    border-color: #1e3a8a;
}

.ps-checkbox:focus {
    box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.2);
    outline: none;
}

.ps-freeze-acceptance-label {
    flex: 1;
    font-size: 14px;
    line-height: 1.6;
    color: var(--ps-deep);
    cursor: pointer;
    user-select: none;
}

.ps-freeze-acceptance-label strong {
    display: block;
    font-weight: 800;
    font-size: 15px;
    margin-bottom: 6px;
    color: var(--ps-deep);
}

/* Responsividad para formulario de congelamiento */
@media (max-width: 768px) {
    .ps-freeze-info-grid {
        grid-template-columns: 1fr;
    }
    
    .ps-freeze-actions {
        flex-direction: column;
    }
    
    .ps-freeze-actions .ps-button {
        width: 100%;
    }
    
    .ps-freeze-history-item {
        flex-direction: column;
        gap: 12px;
    }
    
    .ps-freeze-history-icon {
        width: 100%;
        height: auto;
        padding: 12px;
    }
    
    .ps-freeze-active-banner {
        flex-direction: column;
        padding: 18px;
    }
    
    .ps-freeze-banner-icon {
        width: 100%;
        height: auto;
        padding: 16px;
    }
    
    .ps-freeze-financial-warning {
        flex-direction: column;
        padding: 18px;
    }
    
    .ps-freeze-warning-icon {
        width: 100%;
        height: auto;
        padding: 16px;
    }
}

/* ============================================
   ESTILOS PARA ACORDEÓN DE CIUDADES Y SEDES
   ============================================ */

.ps-city-accordion {
    transition: all 0.3s ease;
}

.ps-city-accordion[open] summary i.fa-chevron-down {
    transform: rotate(180deg);
}

.ps-city-accordion summary::-webkit-details-marker {
    display: none;
}

.ps-city-accordion summary::marker {
    display: none;
}

.ps-city-accordion summary:hover {
    background: #e2e8f0 !important;
}

.ps-campus-card {
    position: relative;
    overflow: hidden;
}

.ps-campus-card:hover {
    border-color: #3b82f6 !important;
    box-shadow: 0 8px 20px rgba(59, 130, 246, 0.15);
    transform: translateY(-2px);
}

.ps-campus-card:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: #3b82f6;
    transform: scaleY(0);
    transition: transform 0.2s ease;
}

.ps-campus-card:hover:before {
    transform: scaleY(1);
}

.ps-current-filter-badge {
    animation: ps-filter-fade-in 0.3s ease;
}

@keyframes ps-filter-fade-in {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================
   ESTILOS PARA VALIDACIONES BCHECK
   HU-PE-BCHK-01, T-PE-BCHK-01, T-PE-BCHK-02
   ============================================ */

/* Card de advertencia para prerrequisito obligatorio */
.ps-card-warning {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.12), rgba(245, 158, 11, 0.08));
    border: 2px solid rgba(245, 158, 11, 0.3);
    box-shadow: 0 12px 30px rgba(245, 158, 11, 0.16);
    position: relative;
    overflow: hidden;
}

.ps-card-warning::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #f59e0b, #fbbf24, #f59e0b);
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
}

.ps-card-warning .ps-card-head {
    background: none;
}

.ps-card-warning .ps-card-head h3 {
    color: #92400e;
    display: flex;
    align-items: center;
    gap: 10px;
}

.ps-card-warning .ps-card-head h3 i {
    color: #f59e0b;
    font-size: 22px;
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.7;
        transform: scale(1.1);
    }
}

/* Cards de sesión prerrequisito (Bcheck) */
.ps-available-card[data-is-prerequisite="true"] {
    border: 2px solid #f59e0b;
    background: linear-gradient(135deg, #fffbeb, #fef3c7);
    box-shadow: 0 12px 28px rgba(245, 158, 11, 0.2);
    position: relative;
    overflow: hidden;
}

.ps-available-card[data-is-prerequisite="true"]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 6px;
    height: 100%;
    background: linear-gradient(180deg, #f59e0b, #fbbf24);
}

.ps-available-card[data-is-prerequisite="true"] .ps-available-head {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    border-bottom: 2px solid #f59e0b;
}

.ps-available-card[data-is-prerequisite="true"] .ps-pill {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: #fff;
    font-weight: 800;
    padding: 6px 12px;
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.35);
    animation: glow 2s ease-in-out infinite;
}

@keyframes glow {
    0%, 100% {
        box-shadow: 0 4px 12px rgba(245, 158, 11, 0.35);
    }
    50% {
        box-shadow: 0 6px 18px rgba(245, 158, 11, 0.55), 0 0 20px rgba(245, 158, 11, 0.3);
    }
}

.ps-available-card[data-is-prerequisite="true"] .ps-chip-secondary {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: #fff;
    border-color: #d97706;
    box-shadow: 0 6px 16px rgba(245, 158, 11, 0.3);
}

/* Sesión BCheck en la agenda semanal */
.ps-week-session[data-is-prerequisite="true"] {
    border-left: 4px solid #f59e0b;
    background: linear-gradient(135deg, #fffbeb, #fef3c7);
    border-color: #f59e0b;
    box-shadow: 0 6px 18px rgba(245, 158, 11, 0.18);
}

.ps-week-session .ps-pill[style*="background: #f59e0b"] {
    animation: glow 2s ease-in-out infinite;
}

/* Toast de advertencia para eliminación de BCheck */
.ps-toast-warning {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    border: 2px solid #f59e0b;
    border-left: 4px solid #f59e0b;
    color: #92400e;
    box-shadow: 0 8px 22px rgba(245, 158, 11, 0.25);
    animation: slideInDown 0.4s ease;
}

.ps-toast-warning i {
    color: #f59e0b;
    font-size: 18px;
}

/* Badge de prerrequisito inline */
.ps-prerequisite-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 20px;
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: #fff;
    font-weight: 800;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.35);
}

.ps-prerequisite-badge i {
    font-size: 12px;
}

/* Indicador de orden de agendamiento */
.ps-scheduling-order {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px;
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(30, 58, 138, 0.06), rgba(13, 27, 76, 0.04));
    border: 1px solid rgba(30, 58, 138, 0.12);
    margin: 12px 0;
}

.ps-scheduling-step {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 14px;
    border-radius: 10px;
    background: #fff;
    border: 2px solid rgba(30, 58, 138, 0.16);
    font-weight: 700;
    color: var(--ps-deep);
    box-shadow: 0 4px 12px rgba(13, 27, 76, 0.08);
}

.ps-scheduling-step.active {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    border-color: #f59e0b;
    color: #92400e;
}

.ps-scheduling-step-number {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: linear-gradient(135deg, #1e3a8a, #162a66);
    color: #fff;
    font-weight: 800;
    font-size: 14px;
    box-shadow: 0 4px 10px rgba(30, 58, 138, 0.3);
}

.ps-scheduling-step.active .ps-scheduling-step-number {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    animation: pulse 1.5s ease-in-out infinite;
}

.ps-scheduling-arrow {
    color: rgba(30, 58, 138, 0.4);
    font-size: 18px;
}

/* Contador de Bcheck en resumen semanal */
.ps-bcheck-counter {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 14px;
    border-radius: 12px;
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    border: 2px solid #f59e0b;
    color: #92400e;
    font-weight: 800;
    box-shadow: 0 6px 16px rgba(245, 158, 11, 0.2);
}

.ps-bcheck-counter i {
    color: #f59e0b;
    font-size: 18px;
}

.ps-bcheck-counter .ps-counter-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    opacity: 0.8;
}

.ps-bcheck-counter .ps-counter-value {
    font-size: 20px;
    font-weight: 900;
}

/* Mensajes de validación mejorados */
.ps-validation-message {
    padding: 16px 18px;
    border-radius: 12px;
    margin: 12px 0;
    display: flex;
    align-items: flex-start;
    gap: 12px;
    animation: fadeIn 0.4s ease;
}

.ps-validation-message.error {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.12), rgba(220, 38, 38, 0.08));
    border: 2px solid rgba(239, 68, 68, 0.3);
    border-left: 4px solid #ef4444;
    color: #7f1d1d;
}

.ps-validation-message.warning {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.12), rgba(245, 158, 11, 0.08));
    border: 2px solid rgba(245, 158, 11, 0.3);
    border-left: 4px solid #f59e0b;
    color: #92400e;
}

.ps-validation-message.info {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.12), rgba(37, 99, 235, 0.08));
    border: 2px solid rgba(59, 130, 246, 0.3);
    border-left: 4px solid #3b82f6;
    color: #1e3a8a;
}

.ps-validation-message i {
    font-size: 22px;
    margin-top: 2px;
    flex-shrink: 0;
}

.ps-validation-message.error i {
    color: #ef4444;
}

.ps-validation-message.warning i {
    color: #f59e0b;
}

.ps-validation-message.info i {
    color: #3b82f6;
}

.ps-validation-message-content {
    flex: 1;
}

.ps-validation-message-content strong {
    display: block;
    font-weight: 800;
    margin-bottom: 6px;
    font-size: 15px;
}

.ps-validation-message-content p {
    margin: 0 0 8px;
    line-height: 1.5;
    font-size: 14px;
}

.ps-validation-message-content ul {
    list-style: none;
    padding: 0;
    margin: 8px 0 0;
}

.ps-validation-message-content li {
    padding-left: 20px;
    position: relative;
    margin-bottom: 6px;
    font-size: 13px;
}

.ps-validation-message-content li::before {
    content: "•";
    position: absolute;
    left: 6px;
    font-weight: 900;
    font-size: 16px;
}

/* Botones de acción para Bcheck */
.ps-button.bcheck-action {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: #fff;
    border: none;
    box-shadow: 0 6px 18px rgba(245, 158, 11, 0.3);
    transition: all 0.2s ease;
}

.ps-button.bcheck-action:hover {
    box-shadow: 0 8px 24px rgba(245, 158, 11, 0.45);
    transform: translateY(-2px);
}

.ps-button.bcheck-action:active {
    transform: translateY(0);
}

.ps-button.bcheck-danger {
    background: linear-gradient(135deg, #dc2626, #b91c1c);
    color: #fff;
    border: none;
    box-shadow: 0 6px 18px rgba(220, 38, 38, 0.3);
}

.ps-button.bcheck-danger:hover {
    box-shadow: 0 8px 24px rgba(220, 38, 38, 0.45);
    transform: translateY(-2px);
}

/* Responsividad para elementos de Bcheck */
@media (max-width: 768px) {
    .ps-scheduling-order {
        flex-direction: column;
        align-items: stretch;
    }
    
    .ps-scheduling-arrow {
        transform: rotate(90deg);
        align-self: center;
    }
    
    .ps-bcheck-counter {
        flex-direction: column;
        text-align: center;
    }
    
    .ps-validation-message {
        flex-direction: column;
    }
    
    .ps-available-card[data-is-prerequisite="true"]::before {
        width: 100%;
        height: 4px;
        top: 0;
        left: 0;
    }
}

/* ============================================================ */
/* HU-PE-ORAL-01: ESTILOS PARA ORAL TESTS */
/* ============================================================ */

/* Cards de Oral Test - IDÉNTICAS a las tarjetas normales */
/* Solo el badge las diferencia, sin estilos especiales */

/* NO aplicar estilos diferentes, heredan todo de .ps-available-card */
/* Animaciones y estilos especiales removidos para mantener uniformidad */

/* Badge de Oral Test - estilo igual a los demás badges */
.ps-badge-oral-test {
    /* Hereda estilos de .ps-pill, solo ajustes mínimos */
    background: var(--ps-primary);
    color: #fff;
    font-weight: 700;
}

.ps-badge-oral-test::before {
    content: "";
    /* El emoji 🎤 ya viene en el HTML */
}

/* Contador de Oral Test en resumen semanal */
.ps-oral-test-counter {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 14px;
    border-radius: 12px;
    background: linear-gradient(135deg, #dbeafe, #bfdbfe);
    border: 2px solid #3b82f6;
    color: #1e40af;
    font-weight: 800;
    box-shadow: 0 6px 16px rgba(59, 130, 246, 0.2);
}

.ps-oral-test-counter i {
    color: #3b82f6;
    font-size: 18px;
}

.ps-oral-test-counter .ps-counter-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    opacity: 0.8;
}

.ps-oral-test-counter .ps-counter-value {
    font-size: 20px;
    font-weight: 900;
}

/* Mensaje informativo de progreso de unidades */
.ps-unit-progress-info {
    padding: 16px 18px;
    border-radius: 12px;
    margin: 12px 0;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.05));
    border: 2px solid rgba(59, 130, 246, 0.3);
    border-left: 4px solid #3b82f6;
    color: #1e40af;
    display: flex;
    align-items: flex-start;
    gap: 12px;
}

.ps-unit-progress-info i {
    font-size: 22px;
    color: #3b82f6;
    margin-top: 2px;
    flex-shrink: 0;
}

/* ==================== TPE14: Estilos para detalles de asignaturas ==================== */

.ps-subject-details-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-top: 12px;
}

.ps-subject-detail-card {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.98));
    border: 2px solid rgba(30, 58, 138, 0.12);
    border-radius: 14px;
    padding: 18px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 8px rgba(13, 27, 76, 0.06);
}

.ps-subject-detail-card:hover {
    border-color: rgba(30, 58, 138, 0.25);
    box-shadow: 0 6px 20px rgba(13, 27, 76, 0.12);
    transform: translateY(-2px);
}

.ps-subject-detail-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 2px solid rgba(30, 58, 138, 0.1);
}

.ps-subject-main-info {
    flex: 1;
    min-width: 0;
}

.ps-subject-code {
    display: inline-block;
    padding: 4px 10px;
    background: linear-gradient(135deg, #1e3a8a, #0f1f52);
    color: white;
    font-weight: 800;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 6px;
    margin-bottom: 6px;
}

.ps-subject-name {
    margin: 6px 0 0;
    font-size: 16px;
    font-weight: 700;
    color: var(--ps-deep);
    line-height: 1.4;
}

.ps-subject-detail-body {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.ps-subject-info-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 12px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 10px;
    border: 1px solid rgba(30, 58, 138, 0.08);
    transition: background 0.2s ease;
}

.ps-subject-info-item:hover {
    background: rgba(255, 255, 255, 0.95);
}

.ps-subject-info-item > i {
    color: var(--ps-primary);
    font-size: 18px;
    margin-top: 2px;
    flex-shrink: 0;
    width: 20px;
    text-align: center;
}

.ps-info-content {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.ps-info-label {
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--ps-muted);
    font-weight: 600;
}

.ps-info-value {
    font-size: 14px;
    color: var(--ps-text);
    line-height: 1.5;
}

.ps-info-value strong {
    font-weight: 700;
    color: var(--ps-deep);
}

.ps-info-value em {
    font-style: italic;
    opacity: 0.7;
}

/* Pills pequeñas para estados y modalidades */
.ps-pill-xs {
    padding: 3px 8px;
    font-size: 11px;
    border-radius: 6px;
    display: inline-block;
    background: rgba(30, 58, 138, 0.1);
    color: var(--ps-primary);
    font-weight: 600;
}

.ps-pill-green {
    background: rgba(16, 185, 129, 0.15);
    color: #059669;
}

.ps-pill-gray {
    background: rgba(100, 116, 139, 0.15);
    color: #475569;
}

/* Responsive para detalles de asignaturas */
@media (max-width: 768px) {
    .ps-subject-detail-card {
        padding: 14px;
    }
    
    .ps-subject-name {
        font-size: 15px;
    }
    
    .ps-subject-info-item {
        padding: 8px 10px;
        flex-direction: column;
        gap: 6px;
    }
    
    .ps-subject-info-item > i {
        align-self: flex-start;
    }
    
    .ps-info-content {
        width: 100%;
    }
}

@media (max-width: 400px) {
    .ps-subject-details-list {
        gap: 12px;
    }
    
    .ps-subject-detail-card {
        padding: 12px;
    }
    
    .ps-subject-detail-header {
        flex-direction: column;
        gap: 8px;
    }
    
    .ps-subject-code {
        font-size: 10px;
        padding: 3px 8px;
    }
    
    .ps-subject-name {
        font-size: 14px;
    }
}

.ps-unit-progress-info-content {
    flex: 1;
}

.ps-unit-progress-info-content strong {
    display: block;
    font-weight: 800;
    margin-bottom: 6px;
    font-size: 15px;
}

.ps-unit-progress-info-content p {
    margin: 0 0 8px;
    line-height: 1.5;
    font-size: 14px;
}

.ps-unit-progress-bar {
    width: 100%;
    height: 10px;
    background: rgba(59, 130, 246, 0.15);
    border-radius: 5px;
    overflow: hidden;
    margin-top: 10px;
}

.ps-unit-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #3b82f6, #2563eb);
    border-radius: 5px;
    transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Botones de acción para Oral Test */
.ps-button.oral-test-action {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: #fff;
    border: none;
    box-shadow: 0 6px 18px rgba(59, 130, 246, 0.3);
    transition: all 0.2s ease;
}

.ps-button.oral-test-action:hover {
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.45);
    transform: translateY(-2px);
}

.ps-button.oral-test-action:active {
    transform: translateY(0);
}

.ps-button.oral-test-action:disabled {
    background: #94a3b8;
    cursor: not-allowed;
    opacity: 0.6;
}

/* Indicador de bloque de unidades completado */
.ps-unit-block-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 8px;
    background: linear-gradient(135deg, #10b981, #059669);
    color: #fff;
    font-weight: 800;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.ps-unit-block-badge::before {
    content: "✓";
    font-size: 14px;
    font-weight: 900;
}

/* Responsividad para elementos de Oral Test */
@media (max-width: 768px) {
    .ps-oral-test-counter {
        padding: 8px 12px;
    }
    
    .ps-oral-test-counter .ps-counter-value {
        font-size: 18px;
    }
    
    .ps-available-card[data-is-oral-test="true"]::before {
        height: 50px;
        width: 50px;
        font-size: 20px;
    }
    
    .ps-unit-progress-info {
        padding: 12px;
        gap: 8px;
    }
    
    .ps-unit-progress-info i {
        font-size: 18px;
    }
    
    .ps-badge-oral-test {
        padding: 5px 10px;
        font-size: 10px;
    }
}

/* Estilos para alertas mejoradas */
.ps-alert {
    padding: 1rem;
    border-radius: var(--ps-radius);
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    margin: 1rem 0;
    border: 1px solid;
}

.ps-alert i {
    flex-shrink: 0;
    font-size: 1.25rem;
    margin-top: 0.125rem;
}

.ps-alert p {
    margin: 0;
    flex: 1;
    line-height: 1.6;
}

.ps-alert-info {
    background: rgba(59, 130, 246, 0.1);
    border-color: rgba(59, 130, 246, 0.2);
    color: #1e40af;
}

.ps-alert-info i {
    color: #3b82f6;
}

.ps-alert-warning {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.2);
    color: #92400e;
}

.ps-alert-warning i {
    color: #f59e0b;
}

.ps-alert-success {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.2);
    color: #065f46;
}

.ps-alert-success i {
    color: #10b981;
}

.ps-alert-error {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
    color: #991b1b;
}

.ps-alert-error i {
    color: #ef4444;
}

/* =================================================================
   NUEVA FUNCIONALIDAD: Agenda Agrupada por Asignatura + Modal
   ================================================================= */

/* Grid de Tarjetas de Asignaturas */
.ps-subjects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 20px;
    margin-top: 24px;
}

/* Tarjeta de Asignatura */
.ps-subject-card {
    background: white;
    border: 2px solid #e2e8f0;
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.ps-subject-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
    border-color: #cbd5e1;
}

.ps-subject-card-header {
    padding: 20px;
    border-bottom: 1px solid #e2e8f0;
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
}

.ps-subject-card-title {
    font-size: 18px;
    font-weight: 700;
    color: #1e293b;
    margin: 0 0 8px;
    line-height: 1.3;
}

.ps-subject-card-body {
    padding: 20px;
}

/* Badge de Oral Test específico */
.ps-badge-oral-test {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: white;
    font-weight: 700;
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

/* Modal Base */
.ps-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
    z-index: 9999;
    overflow-y: auto;
    padding: 20px;
    animation: ps-modal-fade-in 0.2s ease-out;
}

@keyframes ps-modal-fade-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.ps-modal-content {
    max-width: 900px;
    margin: 40px auto;
    background: white;
    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    position: relative;
    animation: ps-modal-slide-up 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes ps-modal-slide-up {
    from {
        transform: translateY(40px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.ps-modal-header {
    padding: 24px 32px;
    border-bottom: 2px solid #e2e8f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    border-radius: 16px 16px 0 0;
}

.ps-modal-header h2 {
    margin: 0 0 8px;
    font-size: 24px;
    font-weight: 700;
    line-height: 1.2;
}

.ps-modal-header p {
    margin: 0;
    font-size: 14px;
    opacity: 0.9;
}

.ps-modal-close {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    font-size: 24px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.ps-modal-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
}

.ps-modal-close:active {
    transform: rotate(90deg) scale(0.95);
}

.ps-modal-body {
    padding: 32px;
    max-height: 70vh;
    overflow-y: auto;
}

/* Scrollbar personalizado para el modal */
.ps-modal-body::-webkit-scrollbar {
    width: 8px;
}

.ps-modal-body::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 4px;
}

.ps-modal-body::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
}

.ps-modal-body::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

/* Tarjeta de Sesión en Modal */
.ps-session-modal-card {
    margin-bottom: 16px;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 20px;
    transition: all 0.2s ease;
    cursor: pointer;
    background: white;
}

.ps-session-modal-card:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
    transform: translateX(4px);
}

.ps-session-modal-card:last-child {
    margin-bottom: 0;
}

/* Estilos responsivos */
@media (max-width: 768px) {
    .ps-subjects-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }
    
    .ps-modal-content {
        margin: 20px auto;
    }
    
    .ps-modal-header {
        padding: 20px;
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }
    
    .ps-modal-close {
        position: absolute;
        top: 16px;
        right: 16px;
    }
    
    .ps-modal-body {
        padding: 20px;
        max-height: 65vh;
    }
    
    .ps-session-modal-card {
        padding: 16px;
    }

    /* Notificaciones responsive */
    .ps-notif-dropdown {
        width: calc(100vw - 32px);
        right: -8px;
        left: auto;
    }

    .ps-notif-item {
        padding: 12px;
    }

    .ps-notif-icon {
        width: 36px;
        height: 36px;
        min-width: 36px;
        font-size: 16px;
    }
}

@media (max-width: 480px) {
    .ps-modal {
        padding: 0;
    }
    
    .ps-modal-content {
        margin: 0;
        border-radius: 0;
        min-height: 100vh;
    }
    
    .ps-modal-header {
        border-radius: 0;
    }

    /* Notificaciones en móviles pequeños */
    .ps-notif-dropdown {
        position: fixed;
        top: 60px;
        left: 0;
        right: 0;
        width: 100%;
        border-radius: 0;
        max-height: calc(100vh - 60px);
    }

    .ps-notif-badge {
        top: -4px;
        right: -4px;
        min-width: 18px;
        height: 18px;
        font-size: 10px;
    }

    .ps-notif-head {
        position: sticky;
        top: 0;
        z-index: 10;
    }
}

/* Animaciones adicionales */
@keyframes ps-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.ps-loading {
    animation: ps-pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Pill especial para contadores */
.ps-pill-xs {
    display: inline-block;
    padding: 2px 8px;
    font-size: 11px;
    font-weight: 600;
    border-radius: 6px;
    background: #e0f2fe;
    color: #0369a1;
}

/* Mejoras visuales para horarios en tarjetas */
.ps-subject-card .ps-session-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px;
    background: #f8fafc;
    border-radius: 6px;
    font-size: 13px;
    color: #475569;
    transition: background 0.2s ease;
}

.ps-subject-card .ps-session-meta:hover {
    background: #f1f5f9;
}

.ps-subject-card .ps-session-meta i {
    color: #64748b;
    font-size: 14px;
}

/* Chip secundario mejorado */
.ps-chip-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    color: #475569;
    font-size: 20px;
    flex-shrink: 0;
    transition: all 0.2s ease;
}

.ps-chip-secondary:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Toast mejorado */
.ps-toast {
    position: fixed;
    top: 80px;
    right: 20px;
    padding: 16px 24px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 14px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    z-index: 10000;
    animation: ps-toast-slide-in 0.3s ease-out;
    max-width: 400px;
}

@keyframes ps-toast-slide-in {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.ps-toast-success {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
}

.ps-toast-error {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
}

.ps-toast-warning {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    color: white;
}

.ps-toast-info {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
}

/* Portal auth/profile additions */
.ps-welcome-screen {
    padding: 60px 20px;
}

.ps-welcome-screen .ps-welcome-card {
    max-width: 860px;
    margin: 0 auto;
}

.ps-password-card,
.ps-access-card,
.ps-profile-card {
    max-width: 860px;
    margin: 0 auto;
}

.ps-access-actions {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    margin-top: 16px;
}

.ps-profile-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 20px;
    margin-top: 18px;
}

.ps-profile-block {
    padding: 16px;
    border-radius: 14px;
    background: var(--ps-primary-soft-2);
    border: 1px solid var(--ps-border);
}

.ps-profile-block h3 {
    margin-top: 0;
    margin-bottom: 12px;
}

.ps-access-banner {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 24px;
    background: rgba(30, 58, 138, 0.08);
    color: var(--ps-text);
    border-radius: 12px;
    margin-bottom: 20px;
}

/* Estilos adicionales para botones outline */
.btn.btn-outline-light {
    background: transparent !important;
    border: 2px solid white !important;
    color: white !important;
    transition: all 0.3s ease;
}

.btn.btn-outline-light:hover {
    background: white !important;
    color: var(--ps-primary) !important;
    border-color: white !important;
}
    border-bottom: 1px solid var(--ps-border);
    font-weight: 600;
}

@media (max-width: 960px) {
    .ps-profile-grid {
        grid-template-columns: 1fr;
    }
}
